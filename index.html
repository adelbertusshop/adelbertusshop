<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdelbertusShop - Premium Streetwear</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#d4af37',
                        secondary: '#1a1a1a',
                        accent: '#caa84f',
                        dark: '#0a0a0a',
                    }
                }
            }
        }
    </script>
    
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=BAApXIlx_i9yxgPZvc4vuso00U8LSVbTZl57n3Pcfr0LfvppkHOPgUjsoN8-QLjxxH-Qb1DlbNOd-Pb2Z4&components=hosted-buttons&disable-funding=venmo&currency=PLN"></script>
    
    <style>
        /* ===== BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #fff;
            line-height: 1.6;
        }
        
        /* ===== SECTIONS ===== */
        section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out;
            min-height: 100vh;
            padding: 2rem 0;
        }
        
        section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ===== CART SYSTEM ===== */
        .cart-icon {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: #d4af37;
            color: #000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            font-weight: bold;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }
        
        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e74c3c;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: #1a1a1a;
            z-index: 1002;
            transition: right 0.3s ease;
            box-shadow: -5px 0 25px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }
        
        .cart-panel.open {
            right: 0;
        }
        
        .cart-header {
            padding: 1.5rem;
            background: #2a2a2a;
            border-bottom: 2px solid #d4af37;
        }
        
        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }
        
        .cart-footer {
            padding: 1.5rem;
            background: #2a2a2a;
            border-top: 2px solid #d4af37;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #333;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            margin-right: 1rem;
        }
        
        /* ===== DESIGN STUDIO ENHANCEMENTS ===== */
        .design-preview {
            border: 3px solid #d4af37;
            border-radius: 15px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .tool-group {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border: 1px solid #333;
        }
        
        /* ===== BUTTONS ===== */
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #d4af37, #ffd700);
            color: #000;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }
        
        /* ===== MODAL ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1003;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: #1a1a1a;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            border: 2px solid #d4af37;
        }
        
        /* ===== PAYMENT SECTION ===== */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .payment-method {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid #333;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method:hover {
            border-color: #d4af37;
            transform: translateY(-2px);
        }
        
        .payment-method.active {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.1);
        }
        
        /* ===== ANIMATIONS ===== */
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-primary py-4">
        <div class="container mx-auto flex justify-center space-x-4">
            <button class="nav-btn bg-dark text-white px-4 py-2 rounded" data-section="home">Home</button>
            <button class="nav-btn bg-dark text-white px-4 py-2 rounded" data-section="shop">Sklep</button>
            <button class="nav-btn bg-dark text-white px-4 py-2 rounded" data-section="design">Projektuj</button>
            <button class="nav-btn bg-dark text-white px-4 py-2 rounded" data-section="charity">Zbi√≥rka</button>
        </div>
    </nav>

    <!-- Cart Icon -->
    <div class="cart-icon" id="cartIcon">
        üõí
        <span class="cart-count" id="cartCount">0</span>
    </div>

    <!-- Cart Panel -->
    <div class="cart-panel" id="cartPanel">
        <div class="cart-header">
            <h2 class="text-xl font-bold">Tw√≥j koszyk</h2>
            <button class="absolute top-4 right-4 text-2xl" onclick="toggleCart()">√ó</button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be dynamically inserted here -->
        </div>
        
        <div class="cart-footer">
            <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-bold">Suma:</span>
                <span class="text-lg font-bold text-primary" id="cartTotal">0 z≈Ç</span>
            </div>
            
            <button class="btn btn-success w-full mb-3" onclick="sendOrderEmail()">
                üìß Wy≈õlij zam√≥wienie mailem
            </button>
            
            <!-- PayPal Payment Button -->
            <div id="paypal-button-container" class="w-full mb-3"></div>
            
            <div class="payment-methods">
                <div class="payment-method active" data-method="paypal">
                    <div class="text-2xl mb-2">üí∞</div>
                    <div>PayPal</div>
                </div>
                <div class="payment-method" data-method="blik">
                    <div class="text-2xl mb-2">üì±</div>
                    <div>BLIK</div>
                </div>
                <div class="payment-method" data-method="transfer">
                    <div class="text-2xl mb-2">üè¶</div>
                    <div>Przelew</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Email Modal -->
    <div class="modal" id="emailModal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-primary">Wy≈õlij zam√≥wienie</h2>
            
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Tw√≥j email:</label>
                <input type="email" id="customerEmail" 
                       class="w-full p-3 bg-dark border border-gray-600 rounded text-white" 
                       placeholder="tw√≥j@email.com" required>
            </div>
            
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Dodatkowe uwagi:</label>
                <textarea id="orderNotes" 
                         class="w-full p-3 bg-dark border border-gray-600 rounded text-white" 
                         rows="3" 
                         placeholder="Dodatkowe informacje do zam√≥wienia..."></textarea>
            </div>
            
            <div class="flex space-x-3">
                <button class="btn btn-primary flex-1" onclick="confirmSendEmail()">
                    Wy≈õlij
                </button>
                <button class="btn bg-gray-600 text-white flex-1" onclick="closeModal()">
                    Anuluj
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content Sections -->
    <main>
        <!-- Design Section -->
        <section id="design" class="active">
            <div class="container mx-auto px-4 py-8">
                <h2 class="text-4xl font-bold text-center mb-8 text-primary">STUDIO PROJEKTOWE</h2>
                
                <div class="max-w-4xl mx-auto bg-dark p-6 rounded-xl border-2 border-primary">
                    <!-- Canvas Preview -->
                    <div class="design-preview mb-6">
                        <canvas id="designCanvas" width="500" height="400" 
                                class="w-full bg-white rounded-lg"></canvas>
                    </div>
                    
                    <!-- Design Tools -->
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <!-- Text Tools -->
                        <div class="tool-group">
                            <h3 class="text-lg font-bold mb-3 text-primary">üìù Tekst</h3>
                            <input type="text" id="designText" placeholder="Wpisz sw√≥j tekst" 
                                   class="w-full p-3 bg-secondary border border-gray-600 rounded text-white mb-3">
                            
                            <div class="grid grid-cols-2 gap-3 mb-3">
                                <select id="fontFamily" class="p-2 bg-secondary border border-gray-600 rounded text-white">
                                    <option>Arial</option>
                                    <option>Verdana</option>
                                    <option>Times New Roman</option>
                                    <option>Impact</option>
                                </select>
                                <input type="number" id="fontSize" value="36" min="10" max="100" 
                                       class="p-2 bg-secondary border border-gray-600 rounded text-white">
                            </div>
                            
                            <input type="color" id="textColor" value="#000000" class="w-full h-12 mb-3">
                        </div>
                        
                        <!-- Design Options -->
                        <div class="tool-group">
                            <h3 class="text-lg font-bold mb-3 text-primary">üé® Opcje</h3>
                            
                            <select id="productType" class="w-full p-3 bg-secondary border border-gray-600 rounded text-white mb-3">
                                <option value="tshirt">Koszulka (120 z≈Ç)</option>
                                <option value="hoodie">Bluza (200 z≈Ç)</option>
                                <option value="cap">Czapka (99 z≈Ç)</option>
                            </select>
                            
                            <select id="productSize" class="w-full p-3 bg-secondary border border-gray-600 rounded text-white mb-3">
                                <option>S</option>
                                <option>M</option>
                                <option>L</option>
                                <option>XL</option>
                                <option>XXL</option>
                            </select>
                            
                            <input type="file" id="designImage" accept="image/*" 
                                   class="w-full p-2 bg-secondary border border-gray-600 rounded text-white mb-3">
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex flex-wrap gap-4 justify-center">
                        <button class="btn btn-primary px-6" onclick="renderDesign()">
                            üîÑ PodglƒÖd
                        </button>
                        <button class="btn btn-primary px-6" onclick="addToCartFromDesign()">
                            üõí Dodaj do koszyka
                        </button>
                        <button class="btn btn-success px-6" onclick="sendDesignToEmail()">
                            üìß Wy≈õlij projekt
                        </button>
                    </div>

                    <!-- PayPal Button for Direct Design Purchase -->
                    <div class="mt-6 p-4 bg-secondary rounded-lg">
                        <h3 class="text-lg font-bold mb-3 text-primary">üí≥ Kup bezpo≈õrednio</h3>
                        <div id="paypal-design-container"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Other sections... -->
    </main>

    <!-- JavaScript -->
    <script>
        // ===== GLOBAL STATE =====
        const state = {
            cart: JSON.parse(localStorage.getItem('adelbertus_cart')) || [],
            currentDesign: {
                text: '',
                fontSize: 36,
                fontFamily: 'Arial',
                color: '#000000',
                productType: 'tshirt',
                productSize: 'M',
                image: null
            },
            currentPaymentMethod: 'paypal'
        };

        // ===== CART MANAGEMENT =====
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const cartTotal = document.getElementById('cartTotal');
            
            // Update count
            const totalItems = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // Update total
            const total = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = total.toFixed(2) + ' z≈Ç';
            
            // Update items
            cartItems.innerHTML = state.cart.length ? '' : '<p class="text-gray-400 text-center">Koszyk jest pusty</p>';
            
            state.cart.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.innerHTML = `
                    ${item.image ? `<img src="${item.image}" class="cart-item-image">` : ''}
                    <div class="flex-1">
                        <h4 class="font-bold">${item.name}</h4>
                        <p class="text-primary">${item.price} z≈Ç √ó ${item.quantity}</p>
                        ${item.size ? `<p class="text-sm text-gray-400">Rozmiar: ${item.size}</p>` : ''}
                    </div>
                    <div class="flex flex-col space-y-1">
                        <button onclick="changeQuantity(${index}, ${item.quantity + 1})" class="text-lg">+</button>
                        <button onclick="changeQuantity(${index}, ${item.quantity - 1})" class="text-lg">-</button>
                    </div>
                `;
                cartItems.appendChild(itemElement);
            });
            
            // Save to localStorage
            localStorage.setItem('adelbertus_cart', JSON.stringify(state.cart));
            
            // Update PayPal button
            renderPayPalButton();
        }

        function addToCart(product) {
            const existingItem = state.cart.find(item => 
                item.name === product.name && item.size === product.size
            );
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                state.cart.push({
                    ...product,
                    quantity: 1,
                    id: Date.now() + Math.random()
                });
            }
            
            updateCart();
            showNotification('‚úÖ Dodano do koszyka!');
        }

        function changeQuantity(index, newQuantity) {
            if (newQuantity <= 0) {
                state.cart.splice(index, 1);
            } else {
                state.cart[index].quantity = newQuantity;
            }
            updateCart();
        }

        function toggleCart() {
            document.getElementById('cartPanel').classList.toggle('open');
        }

        // ===== PAYMENT METHODS =====
        function initPaymentMethods() {
            // Set up payment method selection
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    // Remove active class from all methods
                    document.querySelectorAll('.payment-method').forEach(m => {
                        m.classList.remove('active');
                    });
                    
                    // Add active class to clicked method
                    this.classList.add('active');
                    
                    // Update current payment method
                    state.currentPaymentMethod = this.getAttribute('data-method');
                    
                    // Show appropriate payment button
                    updatePaymentButton();
                });
            });
        }

        function updatePaymentButton() {
            const paypalContainer = document.getElementById('paypal-button-container');
            
            // Hide all payment buttons first
            paypalContainer.innerHTML = '';
            
            // Show appropriate payment button
            if (state.currentPaymentMethod === 'paypal') {
                renderPayPalButton();
            } else if (state.currentPaymentMethod === 'blik') {
                paypalContainer.innerHTML = `
                    <button class="btn btn-primary w-full" onclick="showNotification('BLIK payment would be implemented here')">
                        üì± Zap≈Çaƒá z BLIK
                    </button>
                `;
            } else if (state.currentPaymentMethod === 'transfer') {
                paypalContainer.innerHTML = `
                    <button class="btn btn-primary w-full" onclick="showNotification('Bank transfer details would be shown here')">
                        üè¶ Pobierz dane do przelewu
                    </button>
                `;
            }
        }

        // ===== PAYPAL INTEGRATION =====
        function renderPayPalButton() {
            const paypalContainer = document.getElementById('paypal-button-container');
            paypalContainer.innerHTML = '';
            
            if (state.cart.length === 0) return;
            
            paypal.Buttons({
                createOrder: function(data, actions) {
                    // Calculate total amount
                    const total = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                    
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: total.toFixed(2),
                                currency_code: 'PLN'
                            },
                            description: 'Zam√≥wienie z AdelbertusShop'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // Show success message
                        showNotification('‚úÖ P≈Çatno≈õƒá zako≈Ñczona sukcesem! Dziƒôkujemy za zakupy.');
                        
                        // Clear cart
                        state.cart = [];
                        updateCart();
                        
                        // Close cart panel
                        toggleCart();
                    });
                },
                onError: function(err) {
                    showNotification('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas p≈Çatno≈õci. Spr√≥buj ponownie.');
                    console.error('PayPal error:', err);
                }
            }).render('#paypal-button-container');
        }

        function renderDesignPayPalButton() {
            const designPaypalContainer = document.getElementById('paypal-design-container');
            designPaypalContainer.innerHTML = '';
            
            paypal.Buttons({
                createOrder: function(data, actions) {
                    const price = getPriceByType(state.currentDesign.productType);
                    
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: price.toFixed(2),
                                currency_code: 'PLN'
                            },
                            description: 'Niestandardowy projekt z AdelbertusShop'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // Show success message
                        showNotification('‚úÖ P≈Çatno≈õƒá zako≈Ñczona sukcesem! Tw√≥j projekt zosta≈Ç zakupiony.');
                        
                        // Add to cart
                        addToCartFromDesign();
                    });
                },
                onError: function(err) {
                    showNotification('‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas p≈Çatno≈õci. Spr√≥buj ponownie.');
                    console.error('PayPal error:', err);
                }
            }).render('#paypal-design-container');
        }

        // ===== DESIGN STUDIO =====
        function initDesignStudio() {
            const canvas = document.getElementById('designCanvas');
            const ctx = canvas.getContext('2d');
            
            // Set up event listeners
            document.getElementById('designText').addEventListener('input', (e) => {
                state.currentDesign.text = e.target.value;
                renderDesign();
            });
            
            document.getElementById('fontFamily').addEventListener('change', (e) => {
                state.currentDesign.fontFamily = e.target.value;
                renderDesign();
            });
            
            document.getElementById('fontSize').addEventListener('input', (e) => {
                state.currentDesign.fontSize = parseInt(e.target.value);
                renderDesign();
            });
            
            document.getElementById('textColor').addEventListener('input', (e) => {
                state.currentDesign.color = e.target.value;
                renderDesign();
            });
            
            document.getElementById('productType').addEventListener('change', (e) => {
                state.currentDesign.productType = e.target.value;
                renderDesignPayPalButton();
            });
            
            document.getElementById('productSize').addEventListener('change', (e) => {
                state.currentDesign.productSize = e.target.value;
            });
            
            document.getElementById('designImage').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        state.currentDesign.image = new Image();
                        state.currentDesign.image.src = e.target.result;
                        state.currentDesign.image.onload = renderDesign;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Initial render
            renderDesign();
            renderDesignPayPalButton();
        }

        function renderDesign() {
            const canvas = document.getElementById('designCanvas');
            const ctx = canvas.getContext('2d');
            const { text, fontSize, fontFamily, color, image } = state.currentDesign;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw product background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(50, 50, 400, 300);
            
            // Draw text
            if (text) {
                ctx.font = `${fontSize}px ${fontFamily}`;
                ctx.fillStyle = color;
                ctx.textAlign = 'center';
                ctx.fillText(text, canvas.width / 2, canvas.height / 2);
            }
            
            // Draw image
            if (image) {
                const size = Math.min(image.width, image.height, 200);
                ctx.drawImage(image, (canvas.width - size) / 2, 150, size, size);
            }
        }

        function addToCartFromDesign() {
            const productType = document.getElementById('productType');
            const productSize = document.getElementById('productSize');
            const price = getPriceByType(state.currentDesign.productType);
            
            const product = {
                name: `Projekt: ${state.currentDesign.text || 'Niestandardowy'}`,
                price: price,
                size: state.currentDesign.productSize,
                image: document.getElementById('designCanvas').toDataURL(),
                type: 'custom'
            };
            
            addToCart(product);
        }

        function getPriceByType(type) {
            const prices = {
                'tshirt': 120,
                'hoodie': 200,
                'cap': 99
            };
            return prices[type] || 120;
        }

        // ===== EMAIL FUNCTIONALITY =====
        function sendDesignToEmail() {
            document.getElementById('emailModal').classList.add('active');
        }

        function sendOrderEmail() {
            document.getElementById('emailModal').classList.add('active');
        }

        function confirmSendEmail() {
            const email = document.getElementById('customerEmail').value;
            const notes = document.getElementById('orderNotes').value;
            
            if (!email) {
                showNotification('‚ùå Proszƒô podaƒá adres email');
                return;
            }
            
            const subject = 'Zam√≥wienie z AdelbertusShop';
            let body = `Zam√≥wienie:\n\n`;
            
            // Add cart items
            state.cart.forEach((item, index) => {
                body += `${index + 1}. ${item.name} - ${item.price} z≈Ç √ó ${item.quantity}`;
                if (item.size) body += ` (Rozmiar: ${item.size})`;
                body += '\n';
            });
            
            // Add total
            const total = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            body += `\nSUMA: ${total.toFixed(2)} z≈Ç\n\n`;
            
            // Add notes
            if (notes) {
                body += `Uwagi: ${notes}\n\n`;
            }
            
            // Add contact info
            body += `Email klienta: ${email}\n`;
            body += `Data: ${new Date().toLocaleString()}`;
            
            // Create mailto link
            const mailtoLink = `mailto:mielniczukgrzegosz74@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // Open email client
            window.location.href = mailtoLink;
            
            // Close modal
            closeModal();
            
            showNotification('üìß Otwieram klienta email...');
        }

        function closeModal() {
            document.getElementById('emailModal').classList.remove('active');
        }

        // ===== UTILITIES =====
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-primary text-black px-4 py-2 rounded-lg shadow-lg animate-fade-in';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart
            updateCart();
            
            // Initialize payment methods
            initPaymentMethods();
            
            // Initialize design studio if on design page
            if (document.getElementById('designCanvas')) {
                initDesignStudio();
            }
            
            // Set up cart icon click
            document.getElementById('cartIcon').addEventListener('click', toggleCart);
            
            // Set up navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
                    document.getElementById(section).classList.add('active');
                });
            });
            
            // Initialize PayPal buttons
            if (typeof paypal !== 'undefined') {
                renderPayPalButton();
            }
        });

        // Global function for adding products from anywhere
        window.addToCart = addToCart;
    </script>
</body>
</html>
























































































































