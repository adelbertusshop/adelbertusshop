<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdelbertusShop | Ekskluzywne Projekty</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=BAApXIlx_i9yxgPZvc4vuso00U8LSVbTZl57n3Pcfr0LfvppkHOPgUjsoN8-QLjxxH-Qb1DlbNOd-Pb2Z4&components=hosted-buttons&disable-funding=venmo&currency=PLN"></script>
    <!-- Dodane fonty dla sekcji projektowania -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Abril+Fatface&family=Bebas+Neue&family=Lobster&family=Montserrat:wght@400;700&family=Oswald:wght@400;600&family=Pacifico&family=Playfair+Display:wght@400;700&family=Poppins:wght@400;700&family=Raleway:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;600;700&display=swap');
        
        :root {
            --color-gold: #d4af37;
            --color-dark-gold: #b8941f;
            --color-dark: #1a1a1a;
            --color-light: #f8f5f0;
            --color-cream: #fff8e7;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--color-light);
            color: #333;
            line-height: 1.6;
            padding-bottom: 80px;
        }
        
        h1, h2, h3, h4, h5 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }
        
        .gold-text {
            color: var(--color-gold);
        }
        
        .gold-border {
            border: 2px solid var(--color-gold);
        }
        
        .gold-bg {
            background: var(--color-gold);
        }
        
        /* Nagłówek i nawigacja */
        header {
            background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('https://i.ibb.co/N2t3thBF/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 2rem 0;
            text-align: center;
            position: relative;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .tagline {
            font-style: italic;
            margin-bottom: 2rem;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        nav {
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .nav-btn {
            background: transparent;
            color: white;
            border: 2px solid var(--color-gold);
            padding: 0.8rem 1.5rem;
            margin: 0.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover, .nav-btn.active {
            background: var(--color-gold);
            color: black;
        }
        
        /* Sekcje */
        section {
            display: none;
            padding: 3rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
            padding-bottom: 1rem;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--color-gold);
        }
        
        /* Karty produktów */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .product-image-container {
            height: 280px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--color-cream);
        }
        
        .product-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .product-info {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        
        .product-price {
            color: var(--color-gold);
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }
        
        /* Studio projektowe */
        .design-studio {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            margin: 2rem 0;
            position: relative;
        }
        
        .canvas-container {
            border: 3px solid var(--color-gold);
            border-radius: 10px;
            padding: 1rem;
            background: white;
            margin: 0 auto;
            max-width: 600px;
            position: relative;
        }
        
        #designCanvas {
            width: 100%;
            background: white;
            border: 1px solid #ddd;
            cursor: move;
        }
        
        .canvas-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .design-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .tool-group {
            background: var(--color-cream);
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        
        .tool-title {
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--color-dark-gold);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .transform-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }
        
        .transform-input {
            display: flex;
            flex-direction: column;
            margin-bottom: 0.5rem;
        }
        
        .transform-input label {
            font-size: 0.8rem;
            margin-bottom: 0.2rem;
        }
        
        /* Sekcja zbiórki */
        .charity-section {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1516627145497-ae6968895b74?ixlib=rb-4.0.3&auto=format&fit=crop&w=1840&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 4rem 2rem;
            border-radius: 15px;
            text-align: center;
            margin: 2rem 0;
        }
        
        .donors-list {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 2rem 0;
            text-align: left;
        }
        
        /* Sekcja bloga */
        .blog-posts {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .blog-post {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .blog-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .blog-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .blog-excerpt {
            margin-bottom: 1rem;
            flex-grow: 1;
        }
        
        .blog-full {
            display: none;
            margin-bottom: 1rem;
        }
        
        /* Opinie */
        .reviews {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .review {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .review-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 1rem;
        }
        
        .review-stars {
            color: var(--color-gold);
            margin-bottom: 0.5rem;
        }
        
        /* Stopka */
        footer {
            background: var(--color-dark);
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            margin-top: 4rem;
        }
        
        .contact-info {
            margin: 1.5rem 0;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .social-link {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: var(--color-gold);
            color: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        /* Koszyk */
        #cartIcon {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--color-gold);
            color: black;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 99;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        #cartCount {
            position: absolute;
            top: -5px;
            right: -5px;
            background: red;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        #cartPanel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            z-index: 100;
            transition: right 0.3s ease;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        #cartPanel.open {
            right: 0;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 1rem;
        }
        
        .cart-total {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 2px solid #eee;
        }
        
        /* PayPal container */
        #paypal-container {
            margin-top: 1rem;
            min-height: 50px;
        }
        
        /* Animacje */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* Responsywność */
        @media (max-width: 768px) {
            .products-grid, .blog-posts, .reviews {
                grid-template-columns: 1fr;
            }
            
            #cartPanel {
                width: 100%;
                right: -100%;
            }
            
            .design-tools {
                grid-template-columns: 1fr;
            }
            
            .nav-container {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 80%;
                margin: 0.3rem;
            }
            
            .transform-controls {
                grid-template-columns: 1fr;
            }
            
            .logo {
                font-size: 2.5rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .sticky-buttons {
                bottom: 5rem;
            }
        }

        /* Nowe style dla lepszego układu */
        .sticky-buttons {
            position: sticky;
            bottom: 1rem;
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 98;
            margin-top: 2rem;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .design-preview {
            margin-top: 2rem;
            text-align: center;
            padding: 1rem;
            background: var(--color-cream);
            border-radius: 10px;
        }
        
        .product-base {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .product-base-item {
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 0.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .product-base-item:hover, .product-base-item.active {
            border-color: var(--color-gold);
            background: var(--color-cream);
        }
        
        .product-base-item img {
            max-width: 100%;
            height: 120px;
            object-fit: contain;
        }
        
        .email-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-top: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .mobile-menu-btn {
            display: none;
            background: var(--color-gold);
            color: black;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            margin: 0.5rem auto;
            width: 80%;
        }
        
        .design-area {
            position: relative;
            margin-bottom: 1rem;
        }
        
        .design-options {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .design-option {
            padding: 0.5rem 1rem;
            border: 2px solid var(--color-gold);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .design-option.active {
            background: var(--color-gold);
            color: black;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-container {
                display: none;
                flex-direction: column;
            }
            
            .nav-container.show {
                display: flex;
            }
            
            .design-options {
                flex-direction: column;
            }
        }

        /* Style dla wirtualnych produktów */
        .virtual-product {
            position: relative;
            width: 100%;
            margin: 0 auto;
        }
        
        .product-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .design-area-front, .design-area-back, .design-area-sleeve {
            border: 2px dashed #ccc;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 15px;
            background: white;
        }
        
        .design-area-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--color-dark-gold);
        }
        
        /* PayPal darowizny */
        .donate-button {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 1rem 2rem;
            background: #0070ba;
            color: white;
            border-radius: 30px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .donate-button:hover {
            background: #005ea6;
            transform: translateY(-2px);
        }
        
        /* Nowe style dla reklam */
        .ad-container {
            width: 100%;
            margin: 2rem 0;
            text-align: center;
        }
        
        .ad-banner {
            width: 100%;
            max-width: 728px;
            height: 90px;
            background: #f0f0f0;
            margin: 1rem auto;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-style: italic;
        }
        
        .ad-banner.large {
            max-width: 970px;
            height: 250px;
        }
        
        .ad-banner.video {
            position: relative;
        }
        
        .ad-banner.video .timer {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        /* Style dla przycisków po bokach */
        .side-buttons {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 10;
        }
        
        .side-buttons.left {
            left: 10px;
        }
        
        .side-buttons.right {
            right: 10px;
        }
        
        .side-button {
            background: var(--color-gold);
            color: black;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .side-button:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* Style dla formularza zamówienia */
        .order-form {
            background: black;
            color: var(--color-gold);
            padding: 2rem;
            border-radius: 15px;
            max-width: 600px;
            margin: 2rem auto;
        }
        
        .order-form input,
        .order-form textarea {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #444;
            border-radius: 5px;
            background: #333;
            color: white;
        }
        
        .order-form button {
            background: var(--color-gold);
            color: black;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-top: 1rem;
        }
        
        /* Style dla stopki z reklamami */
        .footer-ads {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #444;
        }
        
        .footer-ad {
            background: #222;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-style: italic;
        }
        /* Style dla przycisków w koszyku - POPRAWIONE */
.cart-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 1rem;
}

.cart-buttons button {
    padding: 12px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    width: 100%;
}

.cart-buttons button:hover {
    opacity: 0.9;
}

.email-order-btn {
    background: var(--color-gold);
    color: black;
}

.whatsapp-order-btn {
    background: #25D366;
    color: white;
}

        /* Sekcja zamówienia */
        .order-section {
            background: black;
            color: var(--color-gold);
            padding: 2rem;
            border-radius: 15px;
            max-width: 600px;
            margin: 2rem auto;
        }

        /* ==== STYLE DLA SEKCJI ZAPROJEKTUJ PRO ==== */
        #zaprojektuj-pro.design-studio{padding:20px;background:#0b0c10;color:#e5e7eb}
        #zaprojektuj-pro .section-title h2{font-size:28px;margin:0 0 4px}
        #zaprojektuj-pro .section-title p{color:#9ca3af;margin:0 0 16px}
        #zaprojektuj-pro .top-bar{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
        #zaprojektuj-pro .studio-grid{display:grid;grid-template-columns:260px 1fr 300px;gap:16px}
        #zaprojektuj-pro .panel{background:#111318;border:1px solid #1f2430;border-radius:12px;padding:14px}
        #zaprojektuj-pro .panel-title{margin:10px 0 8px;font-size:13px;color:#9ca3af;text-transform:uppercase;letter-spacing:.08em}
        #zaprojektuj-pro .canvas-wrap{background:#111318;border:1px solid #1f2430;border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:12px;align-items:center}

        /* Obszar produktu */
        #dsp-product-area{position:relative;width:min(560px,92vw);aspect-ratio:1/1.05;background:#0d0f14;border:1px dashed #2b3240;border-radius:12px;overflow:hidden}
        #dsp-product-color{position:absolute;inset:0;background:#000;opacity:.22;mix-blend-mode:multiply;pointer-events:none}
        #dsp-product-image{position:absolute;inset:0;margin:auto;max-width:100%;max-height:100%;object-fit:contain;z-index:1}
        #dsp-design-layer{position:absolute;inset:0;z-index:2}

        /* UI */
        #zaprojektuj-pro .btn{background:#1f2937;color:#e5e7eb;border:1px solid #374151;border-radius:10px;padding:8px 12px;cursor:pointer}
        #zaprojektuj-pro .btn:hover{background:#2a3547}
        #zaprojektuj-pro .btn-primary{background:#f59e0b;border-color:#f59e0b;color:#1b1300}
        #zaprojektuj-pro .btn-primary:hover{background:#ffb31f}
        #zaprojektuj-pro .input{background:#0f1116;color:#e5e7eb;border:1px solid #2b3240;border-radius:8px;padding:8px;width:100%}
        #zaprojektuj-pro .row{display:flex;gap:8px;margin:8px 0;align-items:center}
        #zaprojektuj-pro .mini{width:64px;color:#9ca3af;font-size:12px}
        #zaprojektuj-pro .product-switch,#zaprojektuj-pro .view-switch{display:flex;flex-wrap:wrap;gap:8px}
        #zaprojektuj-pro .chip{padding:6px 10px;border-radius:999px;border:1px solid #2b3240;background:#0f1116;color:#d1d5db;cursor:pointer}
        #zaprojektuj-pro .chip.active{border-color:#f59e0b;color:#ffd37a;background:#1c1405}
        #zaprojektuj-pro .color-picker{display:flex;gap:6px;flex-wrap:wrap}
        #zaprojektuj-pro .swatch{width:24px;height:24px;border-radius:6px;background:var(--c);cursor:pointer}
        #zaprojektuj-pro .price{margin:8px 0 12px;font-weight:700}
        #zaprojektuj-pro .summary{background:#0f1116;border:1px solid #2b3240;border-radius:8px;padding:10px;white-space:pre-wrap;font-size:13px}
        #zaprojektuj-pro .thumb-wrap{margin-top:6px}
        #zaprojektuj-pro .thumb{width:100%;border-radius:8px;border:1px solid #2b3240}
        #zaprojektuj-pro .hint{font-size:12px;color:#9ca3af;margin-top:8px}
        #zaprojektuj-pro .canvas-tools{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}

        /* Elementy projektu */
        #zaprojektuj-pro .draggable{position:absolute;cursor:move;user-select:none;touch-action:none;left:50%;top:50%;transform:translate(-50%,-50%);--r:0deg;--s:1}
        #zaprojektuj-pro .draggable.active{outline:1px dashed #f59e0b;outline-offset:2px}
        #zaprojektuj-pro .draggable > .inner{display:inline-block;transform:translate(-50%,-50%) rotate(var(--r)) scale(var(--s));position:absolute;left:50%;top:50%}
        #zaprojektuj-pro .draggable.text .inner{white-space:pre;}

        /* Mobile */
        @media (max-width: 980px){
          #zaprojektuj-pro .studio-grid{grid-template-columns:1fr}
          #zaprojektuj-pro .panel{order:2}
          #zaprojektuj-pro .canvas-wrap{order:1}
          #zaprojektuj-pro .top-bar{justify-content:center}
        }
    </style>
</head>
<body>
    <!-- Nagłówek -->
    <header>
        <div class="logo">AdelbertusShop</div>
        <div class="tagline">Tworzone z pasją, noszone z dumą</div>
    </header>

    <!-- Nawigacja -->
    <nav>
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()"><i class="fas fa-bars"></i> Menu</button>
        <div class="nav-container" id="navContainer">
            <button class="nav-btn active" data-section="home"><i class="fas fa-home"></i> Strona Główna</button>
            <button class="nav-btn" data-section="shop"><i class="fas fa-tshirt"></i> Sklep</button>
            <button class="nav-btn" data-section="zaprojektuj-pro"><i class="fas fa-paint-brush"></i> Projektuj</button>
            <button class="nav-btn" data-section="charity"><i class="fas fa-hand-holding-heart"></i> Zbiórka</button>
            <button class="nav-btn" data-section="blog"><i class="fas fa-blog"></i> Blog</button>
            <button class="nav-btn" data-section="regulations"><i class="fas fa-file-alt"></i> Regulamin</button>
            <button class="nav-btn" data-section="contact"><i class="fas fa-envelope"></i> Kontakt</button>
        </div>
    </nav>

    <!-- Sekcja główna -->
    <main>
        <!-- Strona główna -->
        <section id="home" class="active">
            <div class="section-title">
                <h2>Witaj w AdelbertusShop</h2>
                <p>Nie znajdziesz go nigdzie indziej. Ten znak nie istnieje dla świata. Noszą go tylko ci, którzy wiedzą</p>            </div>
            
            <!-- Sekcja reklamowa - baner -->
            <div class="ad-container">
                <div class="ad-banner large">
                    <p>Miejsce na baner reklamowy (728x90)</p>
                    <div class="timer" id="bannerTimer">30s</div>
                </div>
            </div>
            
            <!-- Sekcja reklamowa - animacja -->
            <div class="ad-container">
                <div class="ad-banner large video">
                    <p>Miejsce na animację (30s)</p>
                    <div class="timer" id="animationTimer">30s</div>
                </div>
            </div>
            
            <!-- Sekcja reklamowa - wideo -->
            <div class="ad-container">
                <div class="ad-banner large video">
                    <p>Miejsce na wideo (30s)</p>
                    <div class="timer" id="videoTimer">30s</div>
                </div>
            </div>
            
            <div class="charity-section">
                <h3 class="text-3xl font-bold mb-4">Razem możemy więcej</h3>
                <p>Każdy zakup to wsparcie dla Domu Dziecka "Promyk"</p>
                <button class="nav-btn gold-bg" style="margin-top: 1.5rem;" data-section="charity">Dowiedz się więcej</button>
            </div>
            
            <div class="section-title">
<h3>Nie patrz, jeśli boisz się zmian. Nie kupuj, jeśli nie rozumiesz. To nie jest dla wszystkich.</h3>
            </div>
            
            <div class="products-grid">
                <div class="product-card fade-in">
                    <div class="product-image-container">
                        <img src="https://i.ibb.co/Z6x5MTH6/Screenshot-20250714-002343-Files-by-Google-2.jpg" alt="Koszulka Rebel" class="product-image">
                    </div>
                    <div class="product-info">
                        <div class="product-title">Koszulka "Rebel"</div>
                        <div class="product-price">120 zł</div>
                        <button class="nav-btn add-to-cart-btn" data-name="Koszulka Rebel" data-price="120" data-image="https://i.ibb.co/Z6x5MTH6/Screenshot-20250714-002343-Files-by-Google-2.jpg">Dodaj do koszyka</button>
                    </div>
                </div>
                
                <div class="product-card fade-in">
                    <div class="product-image-container">
                        <img src="https://i.ibb.co/1fWw0hhY/Screenshot-20250714-002113-Files-by-Google-2.jpg" alt="Koszulka Vintage" class="product-image">
                    </div>
                    <div class="product-info">
                        <div class="product-title">Koszulka "Vintage"</div>
                        <div class="product-price">120 zł</div>
                        <button class="nav-btn add-to-cart-btn" data-name="Koszulka Vintage" data-price="120" data-image="https://i.ibb.co/1fWw0hhY/Screenshot-20250714-002113-Files-by-Google-2.jpg">Dodaj do koszyka</button>
                    </div>
                </div>
                
                <div class="product-card fade-in">
                    <div class="product-image-container">
                        <img src="https://i.ibb.co/kgrCffk4/Screenshot-20250714-002247-Files-by-Google-2.jpg" alt="Bluza Urban" class="product-image">
                    </div>
                    <div class="product-info">
                        <div class="product-title">Bluza "Urban"</div>
                        <div class="product-price">200 zł</div>
                        <button class="nav-btn add-to-cart-btn" data-name="Bluza Urban" data-price="200" data-image="https://i.ibb.co/kgrCffk4/Screenshot-20250714-002247-Files-by-Google-2.jpg">Dodaj do koszyka</button>
                    </div>
                </div>
            </div>
        </section>
        <!-- Sklep - ZAKTUALIZOWANY -->
<section id="shop">
    <div class="section-title">
        <h2>Nasze Produkty</h2>
        <p>Odkryj naszą ekskluzywną kolekcję</p>
    </div>
    
    <h3 class="text-2xl font-bold mb-6 text-center gold-text">Koszulki</h3>
    <div class="products-grid">
        <!-- Oryginalne 8 koszulek -->
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/Z6x5MTH6/Screenshot-20250714-002343-Files-by-Google-2.jpg" alt="Koszulka Rebel" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Rebel"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Rebel" data-price="120" data-image="https://i.ibb.co/Z6x5MTH6/Screenshot-20250714-002343-Files-by-Google-2.jpg">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/1fWw0hhY/Screenshot-20250714-002113-Files-by-Google-2.jpg" alt="Koszulka Vintage" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Vintage"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Vintage" data-price="120" data-image="https://i.ibb.co/1fWw0hhY/Screenshot-20250714-002113-Files-by-Google-2.jpg">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/7tJ0Xdj0/file-00000000fd5861f78cb774cd7808e871.png" alt="Koszulka Abstract" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Abstract"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Abstract" data-price="120" data-image="https://i.ibb.co/7tJ0Xdj0/file-00000000fd5861f78cb774cd7808e871.png">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/Kj7jpDKj/file-0000000014a861f4bd0cd14065b487dc.png" alt="Koszulka Geometry" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Geometry"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Geometry" data-price="120" data-image="https://i.ibb.co/Kj7jpDKj/file-0000000014a861f4bd0cd14065b487dc.png">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/JFcZBZQx/Resizer-17510539315581.jpg" alt="Koszulka Modern" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Modern"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Modern" data-price="120" data-image="https://i.ibb.co/JFcZBZQx/Resizer-17510539315581.jpg">Dodaj to koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/wZgwDc26/Messenger-creation-2528-E953-6-E45-4661-A646-E12970-E90-CC0-1.jpg" alt="Koszulka Premium" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Premium"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Premium" data-price="120" data-image="https://i.ibb.co/wZgwDc26/Messenger-creation-2528-E953-6-E45-4661-A646-E12970-E90-CC0-1.jpg">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/C5L9XQZL/Messenger-creation-01-A6-CAA5-4033-4-C60-A136-560204-FF72-A0.jpg" alt="Koszulka Urban" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Urban"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Urban" data-price="120" data-image="https://i.ibb.co/C5L9XQZL/Messenger-creation-01-A6-CAA5-4033-4-C60-A136-560204-FF72-A0.jpg">Dodaj do koszyka</button>
            </div>
        </div>
        
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/j9Js8VDs/file-00000000c71c6246b9d78afc2a6c0a39.png" alt="Koszulka Art" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Koszulka "Art"</div>
                <div class="product-price">120 zł</div>
                <button class="nav-btn add-to-cart-btn" data-name="Koszulka Art" data-price="120" data-image="https://i.ibb.co/j9Js8VDs/file-00000000c71c6246b9d78afc2a6c0a39.png">Dodaj do koszyka</button>
            </div>
        </div>

        <!-- Nowe koszulki - 26 sztuk -->
        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/DDdbtm1R/file-00000000985c6243ba1d82431c2ead9f-2.png" alt="Puzel" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Puzel</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Abstrakcyjny i intrygujący wzór, idealny dla miłośników kreatywnych projektów.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Puzel" data-price="120" data-image="https://i.ibb.co/DDdbtm1R/file-00000000985c6243ba1d82431c2ead9f-2.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/JFMF5VFz/file-00000000465c620a87ec4dbf4bd0ce30.png" alt="Wybrany" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Wybrany</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Design dla tych, którzy czują się wyjątkowo i nie boją się tego pokazać.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Wybrany" data-price="120" data-image="https://i.ibb.co/JFMF5VFz/file-00000000465c620a87ec4dbf4bd0ce30.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/NnG9gP30/file-0000000077a8624687fa35a1773c5ab3-2.png" alt="Step Outside" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Step Outside</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Zachęta do wyjścia poza strefę komfortu i odkrywania nowych ścieżek.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Step Outside" data-price="120" data-image="https://i.ibb.co/NnG9gP30/file-0000000077a8624687fa35a1773c5ab3-2.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/mF8v7j0z/file-0000000054ec624686ad121279625eea.png" alt="Break The Rules" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Break The Rules</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Dla buntowników, którzy nie lubią ograniczeń i sami piszą swoje zasady.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Break The Rules" data-price="120" data-image="https://i.ibb.co/mF8v7j0z/file-0000000054ec624686ad121279625eea.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/TDQchN28/file-000000000b9c620a918ad994200ec2d1-1.png" alt="Nie Mieszczę się" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Nie Mieszczę się</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Dosłownie i w przenośni. Dla osób, które są zbyt duże jak na ramy, które im narzuca świat.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Nie Mieszczę się" data-price="120" data-image="https://i.ibb.co/TDQchN28/file-000000000b9c620a918ad994200ec2d1-1.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/4nVfMx7C/file-00000000aca062439c3a670e83612634-3.png" alt="Buntownik" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Buntownik</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Klasyczny motyw dla niepokornych duchów, które kwestionują status quo.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Buntownik" data-price="120" data-image="https://i.ibb.co/4nVfMx7C/file-00000000aca062439c3a670e83612634-3.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/W4535SP6/file-0000000060286246be561a660f50e99e-2.png" alt="Adelbertus" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Adelbertus</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Elegancki i tajemniczy design z nutą historycznej oryginalności.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Adelbertus" data-price="120" data-image="https://i.ibb.co/W4535SP6/file-0000000060286246be561a660f50e99e-2.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/kVB4DdxF/file-000000007a18620aa7175173df81f11a-1.png" alt="Live With" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Live With</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Inspirujący napis zachęcający do pełnego i świadomego życia.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Live With" data-price="120" data-image="https://i.ibb.co/kVB4DdxF/file-000000007a18620aa7175173df81f11a-1.png">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/zW0QS2Pc/296536056-72317707-ads-media-915b495e-9c59-47a0-b6b8-7d954ecbd931.jpg" alt="You're Not" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">You're Not</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Provokujące hasło dla tych, którzy są świadomi swojej wartości i wyjątkowości.</p>
                <button class="nav-btn add-to-cart-btn" data-name="You're Not" data-price="120" data-image="https://i.ibb.co/zW0QS2Pc/296536056-72317707-ads-media-915b495e-9c59-47a0-b6b8-7d954ecbd931.jpg">Dodaj do koszyka</button>
            </div>
        </div>
            <div class="product-info">
        <div class="product-title">Kolor Disco</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Tęczowe, energetyczne kolory ery disco przeniesione na koszulkę.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Kolor Disco" data-price="120" data-image="https://i.ibb.co/PvxhZvQt/Messenger-creation-BDF4866-E-A667-40-C0-AE32-277-FFA07-C201.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/NdCVHtBQ/Messenger-creation-0236-E1-D6-46-AE-49-DA-BB00-8-B95-D27-D6-AAB.jpg" alt="Uliczny Styl" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Uliczny Styl</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Prawdziwy, miejski vibe dla fanów autentycznego streetwearu.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Uliczny Styl" data-price="120" data-image="https://i.ibb.co/NdCVHtBQ/Messenger-creation-0236-E1-D6-46-AE-49-DA-BB00-8-B95-D27-D6-AAB.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/PGGsNg7Q/Messenger-creation-9-B935-AD4-1-D3-B-4785-BBA4-6928-E5614-E31.jpg" alt="Hip Hop Dance" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Hip Hop Dance</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Poświęcona kulturze hip-hopu i wszystkim, którzy kochają jego rytm.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Hip Hop Dance" data-price="120" data-image="https://i.ibb.co/PGGsNg7Q/Messenger-creation-9-B935-AD4-1-D3-B-4785-BBA4-6928-E5614-E31.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/5x9MHvt9/Messenger-creation-3-E45-BD0-B-6396-4-A75-825-F-17-A5-A3-C0-FEB1.jpg" alt="Dj Kool" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Dj Kool</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Hołd dla pionierów muzyki, którzy napędzają każdą imprezę.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Dj Kool" data-price="120" data-image="https://i.ibb.co/5x9MHvt9/Messenger-creation-3-E45-BD0-B-6396-4-A75-825-F-17-A5-A3-C0-FEB1.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/gL5rMWbq/Messenger-creation-2-B5-A02-A5-C091-4917-A445-F5972-DAC4-EC3.jpg" alt="Street Fashion" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Street Fashion</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Must-have dla każdego, kto podąża za modą wywodzącą się z ulic.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Street Fashion" data-price="120" data-image="https://i.ibb.co/gL5rMWbq/Messenger-creation-2-B5-A02-A5-C091-4917-A445-F5972-DAC4-EC3.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/BJXsvPh/Messenger-creation-3-BB9-C15-D-C49-B-40-D8-A8-D9-D6-AE3-FA419-EE.jpg" alt="Moda Disco" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Moda Disco</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Lśniący i glamorowy styl, który przeniesie Cię w czasy świetności dyskotek.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Moda Disco" data-price="120" data-image="https://i.ibb.co/BJXsvPh/Messenger-creation-3-BB9-C15-D-C49-B-40-D8-A8-D9-D6-AE3-FA419-EE.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/RkNZhJTS/Messenger-creation-D3-E63-CFC-1-E20-41-D9-8264-653-BF9318-DC6.jpg" alt="Pi" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Pi (π)</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Dla matematycznych pasjonatów, miłośników nauki i nieskończoności.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Pi (π)" data-price="120" data-image="https://i.ibb.co/RkNZhJTS/Messenger-creation-D3-E63-CFC-1-E20-41-D9-8264-653-BF9318-DC6.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/y3drK9v/Messenger-creation-4-F98-B179-12-CD-4-AA9-BB32-2-A0-FA290-F13-B.jpg" alt="City at Night" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">City at Night</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Nastrojowy design oddający magię rozświetlonego nocą miasta.</p>
        <button class="nav-btn add-to-cart-btn" data-name="City at Night" data-price="120" data-image="https://i.ibb.co/y3drK9v/Messenger-creation-4-F98-B179-12-CD-4-AA9-BB32-2-A0-FA290-F13-B.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/Myhf9jDw/Resizer-175015904589537.jpg" alt="Puppet King" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Puppet King</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Symboliczny i nieco mroczny motyw kwestionujący prawdziwą władzę.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Puppet King" data-price="120" data-image="https://i.ibb.co/Myhf9jDw/Resizer-175015904589537.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/nJb6RwM/Resizer-175015896433527.jpg" alt="King" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">King</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Prosty, ale mocny design dla tych, którzy rządzą swoim życiem.</p>
        <button class="nav-btn add-to-cart-btn" data-name="King" data-price="120" data-image="https://i.ibb.co/nJb6RwM/Resizer-175015896433527.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/21hPS6j1/Resizer-175015897947529.jpg" alt="Child King" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Child King</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Połączenie niewinności i władzy. Dla wewnętrznego dziecka, które wie, czego chce.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Child King" data-price="120" data-image="https://i.ibb.co/21hPS6j1/Resizer-175015897947529.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/Rpdpq6ck/Messenger-creation-F93-B9-D88-23-E0-4267-9-C9-B-6-D7554933-F08.jpg" alt="Królowa" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Królowa</div>
        <div class="product-price">120 zł</div>
        <p class="product-description">Elegancki i władczy design dla kobiet, które są królowymi własnego życia.</p>
        <button class="nav-btn add-to-cart-btn" data-name="Królowa" data-price="120" data-image="https://i.ibb.co/Rpdpq6ck/Messenger-creation-F93-B9-D88-23-E0-4267-9-C9-B-6-D7554933-F08.jpg">Dodaj do koszyka</button>
    </div>
</div>
                <div class="product-info">
                <div class="product-title">Królowa</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Elegancki i władczy design dla kobiet, które są królowymi własnego życia.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Królowa" data-price="120" data-image="https://i.ibb.co/Rpdpq6ck/Messenger-creation-F93-B9-D88-23-E0-4267-9-C9-B-6-D7554933-F08.jpg">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/HLKK77xy/Messenger-creation-BB709-B3-C-0-C6-E-4-E38-91-B3-A0-B0-ADE828-E6.jpg" alt="Widz" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Widz</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Dla obserwatorów, tych którzy analizują świat z boku.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Widz" data-price="120" data-image="https://i.ibb.co/HLKK77xy/Messenger-creation-BB709-B3-C-0-C6-E-4-E38-91-B3-A0-B0-ADE828-E6.jpg">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/mM8q22m/Messenger-creation-76-C2-FCF0-B34-A-4-B5-D-9161-5-F87-C438-C807.jpg" alt="Beautiful" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Beautiful</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Delikatny i kobiecy design, który celebruje piękno.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Beautiful" data-price="120" data-image="https://i.ibb.co/mM8q22m/Messenger-creation-76-C2-FCF0-B34-A-4-B5-D-9161-5-F87-C438-C807.jpg">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/Z6H87pMt/Messenger-creation-84-F5-BA86-6551-42-C5-86-F8-2-C5207-F7-F459.jpg" alt="Pretty" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Pretty</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Słodki i uroczy wzór, który doda outfitu delikatnego charakteru.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Pretty" data-price="120" data-image="https://i.ibb.co/Z6H87pMt/Messenger-creation-84-F5-BA86-6551-42-C5-86-F8-2-C5207-F7-F459.jpg">Dodaj do koszyka</button>
            </div>
        </div>

        <div class="product-card fade-in">
            <div class="product-image-container">
                <img src="https://i.ibb.co/HfSnVW3K/Messenger-creation-0-E6-C207-C-C15-D-45-C7-AB33-E3-FC34-BBEF39.jpg" alt="Geometria" class="product-image">
            </div>
            <div class="product-info">
                <div class="product-title">Geometria</div>
                <div class="product-price">120 zł</div>
                <p class="product-description">Nowoczesny i abstrakcyjny design z precyzyjnymi, geometrycznymi kształtami.</p>
                <button class="nav-btn add-to-cart-btn" data-name="Geometria" data-price="120" data-image="https://i.ibb.co/HfSnVW3K/Messenger-creation-0-E6-C207-C-C15-D-45-C7-AB33-E3-FC34-BBEF39.jpg">Dodaj do koszyka</button>
            </div>
        </div>
    </div>
          
<h3 class="text-2xl font-bold my-6 text-center gold-text">Bluzy</h3>
<div class="products-grid">
    <!-- Bluzy -->
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/kgrCffk4/Screenshot-20250714-002247-Files-by-Google-2.jpg" alt="Bluza Urban" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Bluza "Urban"</div>
            <div class="product-price">200 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Bluza Urban" data-price="200" data-image="https://i.ibb.co/kgrCffk4/Screenshot-20250714-002247-Files-by-Google-2.jpg">Dodaj do koszyka</button>
        </div>
    </div>
    
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/fVgHHVhb/Messenger-creation-E0864653-904-F-476-C-8839-8809-D0610996.jpg" alt="Bluza Street" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Bluza "Street"</div>
            <div class="product-price">200 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Bluza Street" data-price="200" data-image="https://i.ibb.co/fVgHHVhb/Messenger-creation-E0864653-904-F-476-C-8839-8809-D0610996.jpg">Dodaj do koszyka</button>
        </div>
    </div>
    <div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/N2t3thBF/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg" alt="Bluza Premium" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Bluza "Premium"</div>
        <div class="product-price">220 zł</div>
        <button class="nav-btn add-to-cart-btn" data-name="Bluza Premium" data-price="220" data-image="https://i.ibb.co/N2t3thBF/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/hFcpQxP8/Messenger-creation-8-EAC032-B-3-F98-42-C0-B8-C5-6-ED87-AEFC4-F1.jpg" alt="Bluza Comfort" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Bluza "Comfort"</div>
        <div class="product-price">200 zł</div>
        <button class="nav-btn add-to-cart-btn" data-name="Bluza Comfort" data-price="200" data-image="https://i.ibb.co/hFcpQxP8/Messenger-creation-8-EAC032-B-3-F98-42-C0-B8-C5-6-ED87-AEFC4-F1.jpg">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/fYpmmnwf/file-00000000f8a86246ac7ca2f0cc1f55c3.png" alt="Bluza Style" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Bluza "Style"</div>
        <div class="product-price">200 zł</div>
        <button class="nav-btn add-to-cart-btn" data-name="Bluza Style" data-price="200" data-image="https://i.ibb.co/fYpmmnwf/file-00000000f8a86246ac7ca2f0cc1f55c3.png">Dodaj do koszyka</button>
    </div>
</div>

<div class="product-card fade-in">
    <div class="product-image-container">
        <img src="https://i.ibb.co/nMqH7CXH/Messenger-creation-9-EE42-DE8-FCD2-4964-ABED-62-C3-A4-A75657.jpg" alt="Bluza Fashion" class="product-image">
    </div>
    <div class="product-info">
        <div class="product-title">Bluza "Fashion"</div>
        <div class="product-price">200 zł</div>
        <button class="nav-btn add-to-cart-btn" data-name="Bluza Fashion" data-price="200" data-image="https://i.ibb.co/nMqH7CXH/Messenger-creation-9-EE42-DE8-FCD2-4964-ABED-62-C3-A4-A75657.jpg">Dodaj do koszyka</button>
    </div>
</div>
</div>

<h3 class="text-2xl font-bold my-6 text-center gold-text">Czapki</h3>
<div class="products-grid">
    <!-- Czapki -->
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/7tmM2QRP/file-000000004d38620a9f9d0d8d43926ba0.png" alt="Czapka Classic" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Czapka "Classic"</div>
            <div class="product-price">99 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Czapka Classic" data-price="99" data-image="https://i.ibb.co/7tmM2QRP/file-000000004d38620a9f9d0d8d43926ba0.png">Dodaj do koszyka</button>
        </div>
    </div>
    
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/WNYfpVSv/Messenger-creation-BA0-DA340-47-E5-44-EB-BE4-B-B502-F85536-FC.jpg" alt="Czapka Sport" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Czapka "Sport"</div>
            <div class="product-price">99 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Czapka Sport" data-price="99" data-image="https://i.ibb.co/WNYfpVSv/Messenger-creation-BA0-DA340-47-E5-44-EB-BE4-B-B502-F85536-FC.jpg">Dodaj do koszyka</button>
        </div>
    </div>
    
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/qYnKKPjJ/Messenger-creation-86-A81650-FAB1-4-DF9-B75-E-5-EB295822-CBD.jpg" alt="Czapka Street" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Czapka "Street"</div>
            <div class="product-price">99 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Czapka Street" data-price="99" data-image="https://i.ibb.co/qYnKKPjJ/Messenger-creation-86-A81650-FAB1-4-DF9-B75-E-5-EB295822-CBD.jpg">Dodaj do koszyka</button>
        </div>
    </div>
    
    <div class="product-card fade-in">
        <div class="product-image-container">
            <img src="https://i.ibb.co/35PSSHJj/Screenshot-20250608-161603-Chat-GPT-3.jpg" alt="Czapka Premium" class="product-image">
        </div>
        <div class="product-info">
            <div class="product-title">Czapka "Premium"</div>
            <div class="product-price">99 zł</div>
            <button class="nav-btn add-to-cart-btn" data-name="Czapka Premium" data-price="99" data-image="https://i.ibb.co/35PSSHJj/Screenshot-20250608-161603-Chat-GPT-3.jpg">Dodaj do koszyka</button>
        </div>
    </div>
</div>

<!-- Sekcja zamówienia -->
<div class="section-title">
    <h2>Złóż zamówienie</h2>
    <p>Skorzystaj z naszych usług</p>
</div>

<section id="zamowienia" class="order-form">
    <h2 class="text-3xl mb-4 text-gold font-bold">Złóż zamówienie</h2>
    
    <form id="orderForm" class="space-y-4">
        <input type="text" name="name" placeholder="Imię i nazwisko" class="w-full p-2 rounded border border-gray-700 bg-gray-900 text-white" required>
        <input type="email" name="email" placeholder="Email" class="w-full p-2 rounded border border-gray-700 bg-gray-900 text-white" required>
        <input type="text" name="product" id="productInput" placeholder="Produkt" class="w-full p-2 rounded border border-gray-700 bg-gray-900 text-white" required>
        <textarea name="address" placeholder="Adres dostawy" rows="3" class="w-full p-2 rounded border border-gray-700 bg-gray-900 text-white" required></textarea>

        <div class="flex gap-4">
            <button type="submit" class="flex-1 bg-gold text-black py-2 rounded font-bold hover:bg-yellow-400 transition">Wyślij mail</button>
            <a href="#" id="whatsappBtn" target="_blank" class="flex-1 bg-black border border-gold text-gold py-2 rounded font-bold text-center hover:bg-gold hover:text-black transition">
                Zamów przez WhatsApp
            </a>
        </div>
    </form>

    <p id="status" class="mt-4 text-white"></p>
</section>
</section>

<!-- ============== SEKCJA ZAPROJEKTUJ PRO ============== -->
<section id="zaprojektuj-pro">
  <div class="section-title">
    <h2>Zaprojektuj swój produkt</h2>
    <p>Wybierz produkt, widok i stwórz własny nadruk</p>
  </div>

  <!-- AKCJE GÓRNE -->
  <div class="top-bar">
    <button class="btn" onclick="DSP.newProject()">🆕 Nowy projekt</button>
    <button class="btn" onclick="DSP.savePNG()">💾 Zapisz PNG</button>
    <button class="btn" onclick="DSP.sendProject()">📧 Wyślij mailem</button>
    <button class="btn btn-primary" onclick="DSP.addToCart()">🛒 Dodaj do koszyka</button>
  </div>

  <div class="studio-grid">
    <!-- LEWA KOLUMNA -->
    <aside class="panel">
      <h3 class="panel-title">Produkt</h3>
      <div class="product-switch">
        <button class="chip active" data-product="tshirt_m" onclick="DSP.setProduct('tshirt_m', this)">👕 Koszulka męska</button>
        <button class="chip" data-product="tshirt_w" onclick="DSP.setProduct('tshirt_w', this)">👚 Koszulka damska</button>
        <button class="chip" data-product="hoodie" onclick="DSP.setProduct('hoodie', this)">🧥 Bluza</button>
        <button class="chip" data-product="hoodie_hooded" onclick="DSP.setProduct('hoodie_hooded', this)">🧥 Bluza z kapturem</button>
        <button class="chip" data-product="cap_beanie" onclick="DSP.setProduct('cap_beanie', this)">🧢 Czapka</button>
        <button class="chip" data-product="cap_snapback" onclick="DSP.setProduct('cap_snapback', this)">🧢 Czapka z daszkiem</button>
      </div>

      <h3 class="panel-title">Widok</h3>
      <div class="view-switch" id="dsp-view-switch"><!-- generowane --></div>

      <h3 class="panel-title">Kolor bazowy</h3>
      <div class="color-picker">
        <button class="swatch" style="--c:#000" onclick="DSP.setBaseColor('#000')"></button>
        <button class="swatch" style="--c:#fff;border:1px solid #ddd" onclick="DSP.setBaseColor('#fff')"></button>
        <button class="swatch" style="--c:#1e293b" onclick="DSP.setBaseColor('#1e293b')"></button>
        <button class="swatch" style="--c:#b91c1c" onclick="DSP.setBaseColor('#b91c1c')"></button>
        <button class="swatch" style="--c:#1e3a8a" onclick="DSP.setBaseColor('#1e3a8a')"></button>
        <button class="swatch" style="--c:#065f46" onclick="DSP.setBaseColor('#065f46')"></button>
        <button class="swatch" style="--c:#f59e0b" onclick="DSP.setBaseColor('#f59e0b')"></button>
        <input class="input" type="color" value="#000000" oninput="DSP.setBaseColor(this.value)">
      </div>
    </aside>

    <!-- ŚRODEK: PODGLĄD -->
    <main class="canvas-wrap">
      <div id="dsp-product-area">
        <div id="dsp-product-color"></div>
        <img id="dsp-product-image" alt="Produkt">
        <div id="dsp-design-layer" aria-label="obszar projektowania"></div>
      </div>

      <div class="canvas-tools">
        <button class="btn" onclick="DSP.clearElements()">🗑 Wyczyść elementy</button>
        <button class="btn" onclick="DSP.centerActive()">🎯 Wyśrodkuj aktywny</button>
        <button class="btn" onclick="DSP.deleteActive()">❌ Usuń aktywny</button>
        <button class="btn" onclick="DSP.bringToFront()">⬆ Warstwa w górę</button>
        <button class="btn" onclick="DSP.sendToBack()">⬇ Warstwa w dół</button>
      </div>
    </main>

    <!-- PRAWA KOLUMNA -->
    <aside class="panel">
      <h3 class="panel-title">Rozmiar & cena</h3>
      <select id="dsp-size" class="input" onchange="DSP.updateSummary()">
        <option>S</option><option selected>M</option><option>L</option><option>XL</option><option>XXL</option>
      </select>
      <div class="price">Cena: <span id="dsp-price">120 zł</span></div>

      <h3 class="panel-title">Dodaj tekst</h3>
      <input id="dsp-text" class="input" type="text" placeholder="Twój napis">
      <div class="row">
        <select id="dsp-font" class="input">
          <option>Montserrat</option><option>Poppins</option><option>Oswald</option>
          <option>Anton</option><option>Bebas Neue</option><option>Playfair Display</option>
          <option>Raleway</option><option>Roboto Mono</option><option>Abril Fatface</option>
          <option>Lobster</option><option>Pacifico</option>
          <option>Arial</option><option>Verdana</option><option>Times New Roman</option><option>Georgia</option>
        </select>
        <input id="dsp-fontsize" class="input" type="number" min="12" max="160" value="42">
      </div>
      <div class="row">
        <input id="dsp-textcolor" class="input" type="color" value="#000000">
        <button class="btn" onclick="DSP.addText()">➕ Dodaj napis</button>
      </div>

      <h3 class="panel-title">Edytuj aktywny element</h3>
      <div class="row">
        <label class="mini">Skala</label><input id="dsp-scale" class="input" type="range" min="0.2" max="3" step="0.05" value="1" oninput="DSP.applyTransform()">
      </div>
      <div class="row">
        <label class="mini">Obrót</label><input id="dsp-rotate" class="input" type="range" min="-180" max="180" step="1" value="0" oninput="DSP.applyTransform()">
      </div>
      <div class="row">
        <label class="mini">Kąt X</label><input id="dsp-x" class="input" type="range" min="0" max="100" value="50" oninput="DSP.applyPosition()">
      </div>
      <div class="row">
        <label class="mini">Kąt Y</label><input id="dsp-y" class="input" type="range" min="0" max="100" value="50" oninput="DSP.applyPosition()">
      </div>

      <h3 class="panel-title">Dodaj obrazek</h3>
      <input id="dsp-image" class="input" type="file" accept="image/*" onchange="DSP.addImage(event)">

      <h3 class="panel-title">Podsumowanie</h3>
      <div id="dsp-summary" class="summary">Brak elementów</div>
      <div id="dsp-thumb-wrap" class="thumb-wrap hidden">
        <p class="panel-title" style="margin-top:10px">Miniatura</p>
        <img id="dsp-thumb" class="thumb" alt="Podgląd projektu">
      </div>
      <p class="hint">Po zaprojektowaniu zrób zrzut / zapisz PNG i wyślij na mail: <strong>mielniczukgrzegosz74@gmail.com</strong></p>
    </aside>
  </div>
</section>
        
<!-- 🎁 Sekcja Zbiórki FINALNA -->
<section id="charity" class="bg-gradient-to-r from-gray-900 via-purple-900 to-black text-white py-12 px-6 rounded-2xl shadow-lg">
    
    <!-- Nagłówek -->
    <div class="section-title text-center mb-10">
        <h2 class="text-5xl font-extrabold tracking-wide neon-glow">
            [ UPLOAD NADZIEI // PROMYK ]
        </h2>
        <p class="text-lg italic mt-2 text-gray-300">
            Jesteś częścią czegoś większego, niż Ty sam.  
            (a przy okazji możesz być lepszy niż sąsiad 😉)
        </p>
    </div>

    <!-- Sekcja emocji -->
    <div class="text-center max-w-2xl mx-auto mb-10">
        <h3 class="text-3xl font-bold mb-4">Twoja decyzja zmienia czyjeś życie</h3>
        <p class="text-xl text-gray-200">
            Każda złotówka = kawałek światła w ciemnym świecie.  
            Nie musisz być bohaterem, wystarczy że klikniesz.
        </p>
    </div>
    
    <!-- Metody wsparcia -->
    <div class="grid md:grid-cols-3 gap-8 text-center">
        <!-- BLIK -->
        <div class="p-6 bg-black/40 rounded-xl border border-purple-700 shadow-md hover:scale-105 transition">
            <h4 class="text-2xl font-bold mb-2">📱 BLIK TRANSFER</h4>
            <div class="text-3xl font-mono font-bold text-green-400">573-939-925</div>
            <p class="mt-2 text-sm">dopisz kod: <span class="font-bold">POMOC</span></p>
        </div>
        
        <!-- PayPal -->
        <div class="p-6 bg-black/40 rounded-xl border border-purple-700 shadow-md hover:scale-105 transition">
            <h4 class="text-2xl font-bold mb-2">💳 PayPal</h4>
            <a href="https://www.paypal.com/donate/?hosted_button_id=VG9UP4MTHHWYU" target="_blank" 
               class="mt-4 inline-block bg-yellow-400 text-black font-bold px-4 py-2 rounded-lg hover:bg-yellow-300 transition">
                ➡️ Przekaż darowiznę
            </a>
        </div>
        
        <!-- Dary -->
        <div class="p-6 bg-black/40 rounded-xl border border-purple-700 shadow-md hover:scale-105 transition">
            <h4 class="text-2xl font-bold mb-2">📦 Dary rzeczowe</h4>
            <p>Tel: <span class="font-bold">604 296 360</span></p>
            <p>Email: <span class="font-bold">mielniczukgrzegosz74@gmail.com</span></p>
        </div>
    </div>
    
    <!-- Lista darczyńców -->
    <div class="donors-list mt-12 bg-black/30 p-6 rounded-xl border border-purple-800">
        <h4 class="text-2xl font-bold mb-4">🔥 Ostatni, którzy dołączyli do gry:</h4>
        <ul id="donorsList" class="space-y-2 text-green-300 font-mono"></ul>
    </div>
    
    <!-- List od dzieci -->
    <div class="bg-white/10 p-6 rounded-lg shadow-md mt-10 border-l-4 border-yellow-400">
        <h4 class="text-2xl font-bold mb-4 text-yellow-300">✉️ List od dzieci z Domu Dziecka "Promyk"</h4>
        <div id="childrenLetter" class="italic text-lg text-gray-100 typing"></div>
    </div>
</section>

<style>
/* Neon glow */
.neon-glow {
  color: #fff;
  text-shadow:
    0 0 5px #a855f7,
    0 0 10px #a855f7,
    0 0 20px #9333ea,
    0 0 40px #9333ea;
  animation: neonPulse 2s infinite alternate;
}
@keyframes neonPulse {
  from { text-shadow: 0 0 5px #a855f7, 0 0 10px #a855f7, 0 0 20px #9333ea; }
  to   { text-shadow: 0 0 10px #a855f7, 0 0 20px #a855f7, 0 0 40px #9333ea; }
}

/* Typing efekt */
.typing {
  border-right: 2px solid #ffd700;
  white-space: nowrap;
  overflow: hidden;
}

/* Animacja donorów */
.donor-entry {
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 1s forwards;
}
@keyframes fadeInUp {
  to { opacity: 1; transform: translateY(0); }
}
</style>

<script>
// 🔥 Donorzy rotacyjni
const donors = [
    {name: "Anna K.", amount: 50},
    {name: "Marek Z.", amount: 100},
    {name: "👑 Sekretny Darczyńca", amount: 250},
    {name: "Natalia P.", amount: 75},
    {name: "Bartek L.", amount: 30}
];
let donorIndex = 0;
function addDonor() {
    const list = document.getElementById('donorsList');
    const li = document.createElement('li');
    li.className = "donor-entry";
    li.textContent = `${donors[donorIndex].name} – ${donors[donorIndex].amount} zł`;
    list.prepend(li);
    donorIndex = (donorIndex + 1) % donors.length;
}
setInterval(addDonor, 4000); // co 4s nowy donor

// ✉️ Listy od dzieci (cykliczne)
const letters = [
    "Dziękujemy za każdą pomoc. Dzięki Tobie czujemy, że nie jesteśmy sami. ❤️",
    "Każdy dar to dla nas promień światła w ciemności. ✨",
    "Nie możemy oddać wszystkiego, co czujemy – ale dziękujemy z całego serca! 🙏",
    "Twoja pomoc daje nam nadzieję na lepsze jutro. 🌍"
];
let letterIndex = 0;
function typeLetter() {
    const letterBox = document.getElementById('childrenLetter');
    letterBox.textContent = ""; // reset
    let i = 0;
    function typeWriter() {
        if (i < letters[letterIndex].length) {
            letterBox.textContent += letters[letterIndex].charAt(i);
            i++;
            setTimeout(typeWriter, 50);
        }
    }
    typeWriter();
    letterIndex = (letterIndex + 1) % letters.length;
}
typeLetter();
setInterval(typeLetter, 15000); // co 15s nowy list
</script>
        
<!-- Blog - WERSJA Z FORUM I CYKLICZNYMI CYTATAMI -->
<section id="blog" class="bg-gray-950 py-12">
    <div class="section-title text-center mb-12">
        <h2 class="text-4xl font-bold text-gold-400">Blog</h2>
        <p class="text-gray-300">Miejsce, gdzie każdy może podzielić się swoją myślą</p>
    </div>

    <!-- Dynamiczny cytat -->
    <div class="max-w-2xl mx-auto mb-12 text-center">
        <blockquote id="dynamic-quote" class="italic text-gold-300 text-xl border-l-4 border-gold-500 pl-4 opacity-100 transition-opacity duration-1000">
            „Twoje słowa mają większą moc, niż myślisz.”
        </blockquote>
    </div>

    <div class="text-center mb-8">
        <button class="nav-btn gold-bg px-6 py-2 rounded-lg shadow-lg hover:scale-105 transition" onclick="showBlogForm()">
            <i class="fas fa-pencil-alt"></i> Napisz nowy artykuł
        </button>
    </div>
    
    <div class="blog-posts grid grid-cols-1 md:grid-cols-2 gap-8 px-6" id="blogPostsContainer">
        <!-- Tutaj będą dodawane posty -->
    </div>

    <!-- Formularz dodawania artykułu -->
    <div id="blogForm" class="email-form max-w-xl mx-auto mt-12 bg-gray-900 p-6 rounded-lg shadow-lg border border-gold-500 hidden">
        <h3 class="text-2xl font-bold text-gold-400 mb-4">Dodaj nowy artykuł</h3>
        <form id="newBlogPostForm">
            <div class="form-group mb-4">
                <label class="text-gray-300">Tytuł</label>
                <input type="text" id="blogTitle" required class="w-full p-2 rounded bg-gray-800 text-gray-200 border border-gray-600">
            </div>
            
            <div class="form-group mb-4">
                <label class="text-gray-300">Krótki opis</label>
                <textarea id="blogExcerpt" rows="2" required class="w-full p-2 rounded bg-gray-800 text-gray-200 border border-gray-600"></textarea>
            </div>
            
            <div class="form-group mb-4">
                <label class="text-gray-300">Pełna treść</label>
                <textarea id="blogContent" rows="5" required class="w-full p-2 rounded bg-gray-800 text-gray-200 border border-gray-600"></textarea>
            </div>
            
            <div class="form-group mb-4">
                <label class="text-gray-300">URL obrazka</label>
                <input type="url" id="blogImage" placeholder="https://..." class="w-full p-2 rounded bg-gray-800 text-gray-200 border border-gray-600">
            </div>
            
            <button type="submit" class="nav-btn gold-bg px-6 py-2 rounded-lg shadow-lg">Opublikuj artykuł</button>
            <button type="button" class="nav-btn px-6 py-2 rounded-lg" onclick="hideBlogForm()">Anuluj</button>
        </form>
    </div>
</section>

<script>
// ====================== CYTATY ======================
const quotes = [
    "„Twoje słowa mają większą moc, niż myślisz.”",
    "„Ludzie słyszą, ale pamiętają to, co widzą.”",
    "„To, co tworzysz, mówi więcej niż tysiąc słów.”",
    "„Styl to nie ubranie – to komunikat.”"
];

let quoteIndex = 0;
function changeQuote() {
    const quoteElement = document.getElementById('dynamic-quote');
    quoteElement.classList.add('opacity-0');
    setTimeout(() => {
        quoteIndex = (quoteIndex + 1) % quotes.length;
        quoteElement.innerText = quotes[quoteIndex];
        quoteElement.classList.remove('opacity-0');
    }, 1000);
}
setInterval(changeQuote, 10000); // co 10 sekund

// ====================== KOMENTARZE z filtrem ======================
const badWords = ["kurwa", "chuj", "debil", "idiota"]; // tu możesz dodać kolejne
function filterBadWords(text) {
    let filtered = text;
    badWords.forEach(word => {
        const regex = new RegExp(word, "gi");
        filtered = filtered.replace(regex, "***");
    });
    return filtered;
}

function addComment(event, commentListId) {
    event.preventDefault();
    const input = event.target.querySelector("input");
    let commentText = filterBadWords(input.value);
    const commentList = document.getElementById(commentListId);
    const newComment = document.createElement("li");
    newComment.textContent = "💬 " + commentText;
    commentList.appendChild(newComment);
    input.value = "";
}

// ====================== NOWE ARTYKUŁY ======================
document.getElementById('newBlogPostForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const title = document.getElementById('blogTitle').value;
    const excerpt = document.getElementById('blogExcerpt').value;
    const content = document.getElementById('blogContent').value;
    const image = document.getElementById('blogImage').value || "https://via.placeholder.com/500";

    const postId = "post-" + Date.now();
    const commentListId = "comments-" + Date.now();

    const newPost = `
        <div class="blog-post bg-gray-900 border border-gold-500 rounded-lg shadow-lg hover:bg-gray-800 transition">
            <img src="${image}" alt="${title}" class="blog-image rounded-t-lg">
            <div class="blog-content p-6">
                <h3 class="text-xl font-bold text-gold-400 mb-2">${title}</h3>
                <p class="text-sm text-gray-400">Opublikowano: ${new Date().toLocaleDateString()}</p>
                <div class="blog-excerpt">
                    <p class="mt-3 text-gray-200">${excerpt}</p>
                </div>
                <div class="blog-full hidden">
                    <p class="mt-3 text-gray-300">${content}</p>
                    <blockquote class="italic text-gold-300 mt-4 border-l-4 border-gold-500 pl-4">
                        „Twój artykuł inspiruje innych!”
                    </blockquote>
                    <div class="comments mt-6">
                        <h4 class="text-lg font-bold text-gold-400 mb-2">Komentarze:</h4>
                        <ul id="${commentListId}" class="text-gray-200 space-y-2"></ul>
                        <form class="mt-3" onsubmit="addComment(event, '${commentListId}')">
                            <input type="text" class="w-full p-2 rounded bg-gray-800 text-gray-200 border border-gray-600" placeholder="Dodaj komentarz..." required>
                        </form>
                    </div>
                </div>
                <button class="nav-btn mt-4 read-more-btn" onclick="toggleReadMore(this)">Czytaj więcej</button>
            </div>
        </div>
    `;

    document.getElementById('blogPostsContainer').insertAdjacentHTML('afterbegin', newPost);
    hideBlogForm();
    this.reset();
});

// ====================== ROZWIJANIE POSTÓW ======================
function toggleReadMore(button) {
    const fullContent = button.parentElement.querySelector('.blog-full');
    fullContent.classList.toggle('hidden');
    button.textContent = fullContent.classList.contains('hidden') ? 'Czytaj więcej' : 'Zwiń';
}

// ====================== FORMULARZ ======================
function showBlogForm() {
    document.getElementById('blogForm').classList.remove('hidden');
}
function hideBlogForm() {
    document.getElementById('blogForm').classList.add('hidden');
}
</script>
        
<!-- Regulamin -->
<section id="regulations">
    <div class="section-title">
        <h2>Regulamin</h2>
        <p>Zasady korzystania z naszego sklepu</p>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="mb-6">
            <h3 class="text-xl font-bold mb-3">§1 Postanowienia ogólne</h3>
            <p>Sklep internetowy AdelbertusShop prowadzony jest przez osobę fizyczną w ramach działalności nierejestrowanej na podstawie art. 5 ustawy o swobodzie działalności gospodarczej.</p>
        </div>
        
        <div class="mb-6">
            <h3 class="text-xl font-bold mb-3">§2 Zamówienia i płatności</h3>
            <p>1. Zamówienia można składać przez stronę internetową 24 godziny na dobę.</p>
            <p>2. Akceptowane formy płatności: PayPal, przelew bankowy, BLIK.</p>
            <p>3. Realizacja zamówienia następuje po zaksięgowaniu płatności.</p>
        </div>
        
        <div class="mb-6">
            <h3 class="text-xl font-bold mb-3">§3 Polityka prywatności i RODO</h3>
            <p>1. Administratorem danych osobowych jest AdelbertusShop.</p>
            <p>2. Dane osobowe przetwarzane są w celu realizacji zamówień, świadczenia usług oraz marketingu bezpośredniego.</p>
            <p>3. Podstawą przetwarzania danych jest niezbędność do wykonania umowy (art. 6 ust. 1 lit. b RODO) oraz prawnie uzasadniony interes administratora (art. 6 ust. 1 lit. f RODO).</p>
            <p>4. Dane przechowywane są przez okres niezbędny do realizacji zamówienia, a następnie przez okres wymagany przepisami prawa.</p>
            <p>5. Przysługuje Państwu prawo dostępu do danych, sprostowania, usunięcia, ograniczenia przetwarzania, wniesienia sprzeciwu oraz prawo do przenoszenia danych.</p>
            <p>6. Dane mogą być udostępniane podmiotom przetwarzającym je na nasze zlecenie (np. firmy kurierskie, płatności elektroniczne).</p>
            <p>7. Kontakt w sprawach ochron                
<!-- Kontynuacja kodu od miejsca przerwania -->
<div class="mb-6">
    <h3 class="text-xl font-bold mb-3">§4 Zwroty i reklamacje</h3>
    <p>1. Konsument ma prawo do odstąpienia od umowy w ciągu 14 dni bez podawania przyczyny.</p>
    <p>2. Zwrotów można dokonać na adres: AdelbertusShop, ul. Przykładowa 1, 00-000 Warszawa.</p>
    <p>3. Reklamacje są rozpatrywane w ciągu 14 dni od otrzymania.</p>
</div>
</div>
</section>
<!-- Kontakt - FINALNA WERSJA -->
<section id="contact" class="bg-gradient-to-b from-white via-gray-50 to-white py-12 px-6">
  <div class="section-title text-center mb-10">
    <h2 class="text-4xl font-extrabold text-gray-900">Kontakt</h2>
    <p class="text-lg text-gray-600 mt-2">To Twoje miejsce – masz wpływ na wszystko, co tu się dzieje.</p>
  </div>

  <!-- Formularz kontaktowy -->
  <div class="email-form bg-white shadow-lg rounded-2xl p-8 mb-10">
    <h3 class="text-2xl font-bold mb-4">Wyślij wiadomość</h3>
    <form id="contactForm">
      <div class="form-group mb-4">
        <label class="block font-semibold mb-1">Imię i nazwisko</label>
        <input type="text" required class="w-full border rounded-lg px-3 py-2">
      </div>
      
      <div class="form-group mb-4">
        <label class="block font-semibold mb-1">Email</label>
        <input type="email" required class="w-full border rounded-lg px-3 py-2">
      </div>
      
      <div class="form-group mb-4">
        <label class="block font-semibold mb-1">Temat</label>
        <input type="text" required class="w-full border rounded-lg px-3 py-2">
      </div>
      
      <div class="form-group mb-4">
        <label class="block font-semibold mb-1">Wiadomość</label>
        <textarea rows="5" required class="w-full border rounded-lg px-3 py-2"></textarea>
      </div>
      
      <button type="submit" class="nav-btn gold-bg w-full">Wyślij wiadomość</button>
    </form>
  </div>

  <!-- Dane kontaktowe -->
  <div class="bg-white p-6 rounded-2xl shadow-md mb-10">
    <h3 class="text-xl font-bold mb-4">Dane kontaktowe</h3>
    <p class="mb-2"><i class="fas fa-envelope gold-text"></i> Email: <b>mielniczukgrzegosz74@gmail.com</b></p>
    <p class="mb-2"><i class="fas fa-phone gold-text"></i> Telefon: <b>604 296 360</b></p>
    <p class="mb-4"><i class="fas fa-clock gold-text"></i> Godziny odpowiedzi: <b>Pon-Pt 9:00-17:00</b></p>
    
    <h3 class="text-xl font-bold mt-6 mb-4">Social Media</h3>
    <div class="social-links flex gap-4">
      <a href="https://www.instagram.com/mielniczukgrzegosz74/profilecard/?igsh=MXg1dWMycDBjeTlpYw==" class="social-link text-pink-500 text-2xl" target="_blank">
        <i class="fab fa-instagram"></i>
      </a>
      <a href="https://www.tiktok.com/@ja.jestem3?_t=ZN-8z3xiAfOynu&_r=1" class="social-link text-black text-2xl" target="_blank">
        <i class="fab fa-tiktok"></i>
      </a>
      <a href="https://www.facebook.com/share/p/19jxDk2vM7/" class="social-link text-blue-600 text-2xl" target="_blank">
        <i class="fab fa-facebook-f"></i>
      </a>
    </div>
  </div>

  <!-- Forum dyskusyjne -->
  <div class="bg-white p-6 rounded-2xl shadow-md">
    <h3 class="text-2xl font-bold mb-4">Forum – Twoje miejsce na głos</h3>
    <p class="text-gray-600 mb-4">Dodaj swój wpis i stań się częścią społeczności.</p>
    
    <form id="forumForm" class="mb-6">
      <input type="text" id="forumUser" placeholder="Twoje imię" required class="w-full border rounded-lg px-3 py-2 mb-2">
      <textarea id="forumMessage" rows="3" placeholder="Napisz swój wpis..." required class="w-full border rounded-lg px-3 py-2 mb-2"></textarea>
      <button type="submit" class="nav-btn gold-bg w-full">Dodaj wpis</button>
    </form>
    
    <div id="forumPosts" class="space-y-4">
      <!-- Wpisy forum będą dodawane tutaj -->
    </div>
  </div>
</section>

<script>
  // Lista słów zakazanych
  const forbiddenWords = ["idiota", "głupek", "kurwa", "chuj", "pedał", "debil"];
  
  // Obsługa forum
  document.getElementById('forumForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const user = document.getElementById('forumUser').value.trim();
    const message = document.getElementById('forumMessage').value.trim();
    
    // Sprawdzenie wulgaryzmów
    let containsBad = forbiddenWords.some(word => message.toLowerCase().includes(word));
    
    if (containsBad) {
      alert("Twój wpis zawiera niedozwolone treści. Spróbuj napisać inaczej.");
      return;
    }
    
    if (user && message) {
      const postDiv = document.createElement('div');
      postDiv.classList.add('p-4', 'bg-gray-50', 'rounded-lg', 'shadow-sm');
      postDiv.innerHTML = `<p class="font-bold">${user}</p><p>${message}</p>`;
      document.getElementById('forumPosts').prepend(postDiv);
      
      document.getElementById('forumForm').reset();
    }
  });
</script>

<!-- Koszyk - ZMODYFIKOWANY -->
<div id="cartIcon">
    <i class="fas fa-shopping-cart"></i>
    <span id="cartCount">0</span>
</div>

<div id="cartPanel">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold">Twój koszyk</h2>
        <button onclick="toggleCart()" class="text-2xl">&times;</button>
    </div>
    
    <div id="cartItems" class="mb-6">
        <!-- Produkty w koszyku -->
    </div>
    
    <div class="cart-total">
        <div class="flex justify-between text-xl font-bold">
            <span>Suma:</span>
            <span id="cartTotal">0 zł</span>
        </div>
    </div>
    
    <div id="paypal-container" class="mt-4"></div>
    
    <div class="cart-buttons">
        <button onclick="sendOrderEmail()" class="email-order-btn">
            <i class="fas fa-envelope"></i> Wyślij zamówienie mailem
        </button>
        <button onclick="sendOrderWhatsApp()" class="whatsapp-order-btn">
            <i class="fab fa-whatsapp"></i> Zamów przez WhatsApp
        </button>
    </div>
    
    <p class="text-sm text-gray-600 text-center mt-4">Akceptujemy również przelewy bankowe i BLIK</p>
</div>

<!-- Stopka -->
<footer>
    <div class="logo">AdelbertusShop</div>
    <p class="tagline">Tworzone z pasją, noszone z dumą</p>
    
    <div class="contact-info">
        <p><i class="fas fa-envelope"></i> mielniczukgrzegosz74@gmail.com</p>
        <p><i class="fas fa-phone"></i> 604 296 360</p>
    </div>
    
    <!-- Sekcja reklam w stopce -->
<!-- Baner prostokątny -->
<div class="ad-container" style="text-align:center; margin:20px 0;">
  <div id="bannerLarge">
    <a href="https://ibb.co/2xhgSK0" target="_blank">
      <img src="https://i.ibb.co/SbyRcvD/Messenger-creation-00818231-9273-41-E1-8247-0342-F5054-BE3.jpg" 
           alt="Baner prostokątny" 
           style="max-width:728px; width:100%; height:auto; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.3);">
    </a>
  </div>
</div>

<!-- Baner kwadratowy -->
<div class="ad-container" style="text-align:center; margin:20px 0;">
  <div id="bannerSquare">
    <a href="https://ibb.co/d46RkY29" target="_blank">
      <img src="https://i.ibb.co/zVbzPvRc/Messenger-creation-9-C2-DF47-C-5660-4-D41-8652-E1-A259-B8-B09-C.jpg" 
           alt="Baner kwadratowy" 
           style="max-width:300px; width:100%; height:auto; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.3);">
    </a>
  </div>
</div>

<script>
// Funkcja cyklu 10s widoczny, 3s ukryty
function cycleBanner(bannerId) {
  const banner = document.getElementById(bannerId);

  function showBanner() {
    banner.style.display = "block";
    setTimeout(hideBanner, 10000); // 10s
  }

  function hideBanner() {
    banner.style.display = "none";
    setTimeout(showBanner, 3000); // 3s
  }

  showBanner();
}

document.addEventListener("DOMContentLoaded", () => {
  cycleBanner("bannerLarge");
  cycleBanner("bannerSquare");
});
</script>    
        <div class="footer-ad">
            <p>Reklama 3</p>
        </div>
    </div>
    
    <div class="mt-6">
        <p>© 2023 AdelbertusShop. Wszystkie prawa zastrzeżone.</p>
        <p>Działalność nierejestrowana na podstawie art. 5 ustawy o swobodzie działalności gospodarczej.</p>
    </div>
</footer>

<script>
    // ===== GLOBALNE ZMIENNE =====
    let cart = JSON.parse(localStorage.getItem('adelbertus_cart')) || [];
    let currentDesign = {
        text: '',
        fontSize: 36,
        fontFamily: 'Arial',
        color: '#000000',
        productType: 'tshirt',
        productSize: 'M',
        image: null,
        imageX: 250,
        imageY: 200,
        imageScale: 1,
        imageRotation: 0,
        textX: 250,
        textY: 200,
        textScale: 1,
        textRotation: 0,
        activeElement: 'text',
        baseProduct: 'tshirt',
        designArea: 'front'
    };

    // Dane do rotacji dla zbiórki
    const donorsData = [
        {
            donors: [
                '<li><i class="fas fa-heart gold-text"></i> <strong>Anna K.</strong> - paczka z artykułami szkolnymi</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Tomasz W.</strong> - 500 zł przekazane przez BLIK</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Fundacja "Przyszłość"</strong> - zestaw komputerowy</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Pracownicy firmy XYZ</strong> - zbiórka zimowych ubrań</li>'
            ],
            letter: `"Drodzy Przyjaciele,<br><br>
            Chcielibyśmy podziękować Wam za wszystkie otrzymane dary i wsparcie. Każda paczka, każdy uśmiech i każde dobre słowo dodaje nam siły i wiary w lepsze jutro. Dzięki Wam wiemy, że nie jesteśmy sami.<br><br>
            Wasze gesty dobroci sprawiają, że nasze dni stają się jaśniejsze, a marzenia - bardziej realne. Dziękujemy, że jesteście częścią naszej historii.<br><br>
            Z nadzieją w sercach,<br>
            Dzieci z Domu Dziecka 'Promyk'"`
        },
        {
            donors: [
                '<li><i class="fas fa-heart gold-text"></i> <strong>Jan Nowak</strong> - gry planszowe i puzzle</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Maria S.</strong> - 300 zł na wycieczkę</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Firma ABC</strong> - artykuły plastyczne</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Wolontariusze z miasta</strong> - remont sali zabaw</li>'
            ],
            letter: `"Kochani Darczyńcy,<br><br>
            Wasza hojność nas zadziwia! Dzięki Wam możemy rozwijać nasze pasje i talenty. Ostatnio dostaliśmy wspaniałe instrumenty muzyczne i już tworzymy zespół.<br><br>
            Nie moglibyśmy robić tych wszystkich wspaniałych rzeczy bez Waszego wsparcia. Dziękujemy za każde okazane serce.<br><br>
            Z wdzięcznością,<br>
            Podopieczni 'Promyka'"`
        },
        {
            donors: [
                '<li><i class="fas fa-heart gold-text"></i> <strong>Grupa przyjaciół</strong> - rowery i kaski</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Pizzeria "Smak"</strong> - cotygodniowe dostawy pizza</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Klub sportowy</strong> - sprzęt sportowy i treningi</li>',
                '<li><i class="fas fa-heart gold-text"></i> <strong>Anonimowy darczyńca</strong> - laptopy dla dzieci</li>'
            ],
                        letter: `"Szanowni Państwo,<br><br>
            Chcemy podzielić się naszą radością - dzięki Waszemu wsparciu mogliśmy zorganizować wspaniały wyjazd w góry. To były niezapomniane chwile!<br><br>
            Widok szczęśliwych, uśmiechniętych dzieci jest bezcenny. Dziękujemy, że pomagacie nam tworzyć takie wspomnienia.<br><br>
            Serdecznie,<br>
            Wychowawcy i dzieci z 'Promyka'"`
        }
    ];

    // ===== INICJALIZACJA =====
    document.addEventListener('DOMContentLoaded', function() {
        initNavigation();
        updateCart();
        renderPayPalButton();
        initContactForm();
        initBlog();
        initAddToCartButtons();
        initOrderForm();
        initAdTimers();
        initCharityRotation();
        
        // Inicjalizacja DSP po załadowaniu DOM
        if (typeof DSP !== 'undefined') {
            DSP.init();
        }
    });

    // ===== NAWIGACJA =====
    function initNavigation() {
        const navButtons = document.querySelectorAll('.nav-btn');
        
        navButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                if (this.hasAttribute('data-section')) {
                    e.preventDefault();
                    
                    // Usuń aktywną klasę ze wszystkich przycisków
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Dodaj aktywną klasę do klikniętego przycisku
                    this.classList.add('active');
                    
                    // Pokaż odpowiednią sekcję
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                }
            });
        });
        
        // Obsługa ikony koszyka
        document.getElementById('cartIcon').addEventListener('click', toggleCart);
    }

    function toggleMobileMenu() {
        document.getElementById('navContainer').classList.toggle('show');
    }

    function showSection(sectionId) {
        // Ukryj wszystkie sekcje
        document.querySelectorAll('section').forEach(section => {
            section.classList.remove('active');
        });
        
        // Pokaż wybraną sekcję
        document.getElementById(sectionId).classList.add('active');
        
        // Ukryj menu mobilne po wybraniu sekcji
        if (window.innerWidth <= 768) {
            document.getElementById('navContainer').classList.remove('show');
        }
        
        // Przewiń do góry sekcji
        document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
    }

    // ===== DODAWANIE DO KOSZYKA =====
    function initAddToCartButtons() {
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('add-to-cart-btn')) {
                e.preventDefault();
                const name = e.target.getAttribute('data-name');
                const price = parseFloat(e.target.getAttribute('data-price'));
                const image = e.target.getAttribute('data-image');
                
                addToCart(name, price, image);
            }
        });
    }

    function updateCart() {
        const cartCount = document.getElementById('cartCount');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        
        // Aktualizuj licznik
        cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
        
        // Aktualizuj zawartość koszyka
        cartItems.innerHTML = '';
        
        if (cart.length === 0) {
            cartItems.innerHTML = '<p class="text-center text-gray-500">Twój koszyk jest pusty</p>';
            cartTotal.textContent = '0 zł';
            document.getElementById('paypal-container').innerHTML = '';
        } else {
            let total = 0;
            
            cart.forEach((item, index) => {
                total += item.price * item.quantity;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    ${item.image ? `<img src="${item.image}" class="cart-item-image">` : ''}
                    <div class="flex-1">
                        <div class="font-bold">${item.name}</div>
                        <div>${item.price} zł × ${item.quantity}</div>
                        ${item.size ? `<div class="text-sm">Rozmiar: ${item.size}</div>` : ''}
                    </div>
                    <button onclick="removeFromCart(${index})" class="text-red-500"><i class="fas fa-trash"></i></button>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = `${total.toFixed(2)} zł`;
            
            // Renderuj przycisk PayPal
            renderPayPalButton();
        }
        
        // Zapisz do localStorage
        localStorage.setItem('adelbertus_cart', JSON.stringify(cart));
    }

    function addToCart(name, price, image = null, size = null) {
        // Sprawdź czy produkt już jest w koszyku
        const existingIndex = cart.findIndex(item => 
            item.name === name && item.size === size
        );
        
        if (existingIndex >= 0) {
            cart[existingIndex].quantity++;
        } else {
            cart.push({
                name,
                price,
                quantity: 1,
                image,
                size,
                id: Date.now()
            });
        }
        
        updateCart();
        showNotification('✅ Produkt dodany do koszyka');
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCart();
    }

    function toggleCart() {
        document.getElementById('cartPanel').classList.toggle('open');
    }

    // ===== PAYPAL =====
    function renderPayPalButton() {
        const container = document.getElementById('paypal-container');
        container.innerHTML = '';
        
        if (cart.length === 0) return;
        
        paypal.HostedButtons({
            hostedButtonId: "L4639S4363CZE",
        }).render("#paypal-container");
    }

    // ===== EMAIL =====
    function sendOrderEmail() {
        let emailBody = 'Zamówienie z AdelbertusShop:\n\n';
        
        cart.forEach((item, index) => {
            emailBody += `${index + 1}. ${item.name} - ${item.price} zł × ${item.quantity}`;
            if (item.size) emailBody += ` (Rozmiar: ${item.size})`;
            emailBody += '\n';
        });
        
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        emailBody += `\nSUMA: ${total.toFixed(2)} zł\n\n`;
        emailBody += `Data: ${new Date().toLocaleString('pl-PL')}\n\n`;
        emailBody += `Proszę o potwierdzenie zamówienia i podanie terminu realizacji.`;
        
        window.open(`mailto:mielniczukgrzegosz74@gmail.com?subject=Zamówienie z AdelbertusShop&body=${encodeURIComponent(emailBody)}`);
    }

    function sendOrderWhatsApp() {
        let message = 'Zamówienie z AdelbertusShop:%0A%0A';
        
        cart.forEach((item, index) => {
            message += `${index + 1}. ${item.name} - ${item.price} zł × ${item.quantity}`;
            if (item.size) message += ` (Rozmiar: ${item.size})`;
            message += '%0A';
        });
        
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        message += `%0ASUMA: ${total.toFixed(2)} zł%0A%0A`;
        message += `Data: ${new Date().toLocaleString('pl-PL')}%0A%0A`;
        message += `Proszę o potwierdzenie zamówienia.`;
        
        window.open(`https://wa.me/48604296650?text=${message}`);
    }

    // ===== FORMULARZ ZAMÓWIENIA =====
    function initOrderForm() {
        const form = document.getElementById("orderForm");
        const statusEl = document.getElementById("status");
        const whatsappBtn = document.getElementById("whatsappBtn");
        const productInput = document.getElementById("productInput");

        if (!form) return;

        // Aktualizuje link WhatsApp dynamicznie
        productInput.addEventListener("input", () => {
            const product = encodeURIComponent(productInput.value || "");
            whatsappBtn.href = `https://wa.me/48604296650?text=Chcę%20zamówić:%20${product}`;
        });

        // Wysyłka maila
        form.addEventListener("submit", async function(e){
            e.preventDefault();
            statusEl.textContent = "Wysyłam...";
            statusEl.className = "";

            const data = Object.fromEntries(new FormData(this));

            try {
                // Symulacja wysyłki - w rzeczywistości połączenie z backendem
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                statusEl.textContent = "✔ Zamówienie wysłane mailem!";
                statusEl.className = "text-green-400";
                this.reset();
                whatsappBtn.href = `https://wa.me/48604296650?text=Chcę%20zamówić:%20`;
            } catch(err){
                statusEl.textContent = "✖ " + err.message;
                statusEl.className = "text-red-500";
            }
        });
    }

    // ===== REKLAMY =====
    function initAdTimers() {
        // Timer dla baneru
        startTimer('bannerTimer', 30);
        
        // Timer dla animacji
        startTimer('animationTimer', 30);
        
        // Timer dla wideo
        startTimer('videoTimer', 30);
    }

    function startTimer(elementId, seconds) {
        const timerElement = document.getElementById(elementId);
        if (!timerElement) return;
        
        let timeLeft = seconds;
        
        const timerInterval = setInterval(() => {
            timeLeft--;
            timerElement.textContent = `${timeLeft}s`;
            
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timerElement.textContent = 'Koniec';
                timerElement.style.backgroundColor = '#d4af37';
                timerElement.style.color = 'black';
            }
        }, 1000);
    }

    // ===== ZBIÓRKA - ROTACJA =====
    function initCharityRotation() {
        // Sprawdź, kiedy ostatnio zmieniano dane
        const lastChange = localStorage.getItem('charityLastChange');
        const currentIndex = localStorage.getItem('charityCurrentIndex') || 0;
        const now = new Date().getTime();
        const threeDays = 3 * 24 * 60 * 60 * 1000; // 3 dni w milisekundach
        
        let newIndex = parseInt(currentIndex);
        
        // Jeśli minęły 3 dni lub to pierwsza inicjalizacja, zmień dane
        if (!lastChange || (now - lastChange) > threeDays) {
            newIndex = (parseInt(currentIndex) + 1) % donorsData.length;
            localStorage.setItem('charityLastChange', now);
            localStorage.setItem('charityCurrentIndex', newIndex);
        }
        
        // Aktualizuj dane na stronie
        updateCharityContent(newIndex);
    }

    function updateCharityContent(index) {
        const donorsList = document.getElementById('donorsList');
        const childrenLetter = document.getElementById('childrenLetter');
        
        if (donorsList && donorsData[index]) {
            donorsList.innerHTML = donorsData[index].donors.join('');
        }
        
        if (childrenLetter && donorsData[index]) {
            childrenLetter.innerHTML = donorsData[index].letter;
        }
    }

    // ===== BLOG =====
    function initBlog() {
        // Wczytaj posty z localStorage
        const blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || [];
        
        // Wyświetl posty
        renderBlogPosts(blogPosts);
        
        // Inicjalizuj formularz
        const blogForm = document.getElementById('newBlogPostForm');
        if (blogForm) {
            blogForm.addEventListener('submit', function(e) {
                e.preventDefault();
                addNewBlogPost();
            });
        }
    }

    function renderBlogPosts(posts) {
        const container = document.getElementById('blogPostsContainer');
        if (!container) return;
        
        container.innerHTML = '';
        
        if (posts.length === 0) {
            // Dodaj przykładowe posty jeśli nie ma żadnych
            const samplePosts = [
                {
                    title: "Sztuka jako forma ekspresji",
                    excerpt: "Jak wyrażać siebie przez projektowanie ubrań i dlaczego warto...",
                    content: "Pełna treść artykułu o sztuce jako formie ekspresji. Sztuka odgrywa kluczową rolę w naszym życiu, pozwala wyrażać emocje, opowiadać historie i komunikować się z innymi bez słów.",
                    image: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    date: new Date().toISOString()
                },
                {
                    title: "Trendy w streetwearze 2023",
                    excerpt: "Odkryj najnowsze trendy w modzie ulicznej tego sezonu...",
                    content: "Streetwear w 2023 roku ewoluuje w kierunku połączenia komfortu and style. Dominują oversize'owe fasony, earthy kolory oraz odważne nadruki.",
                    image: "https://images.unsplash.com/photo-1542744095-fcf48d80b0fd?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    date: new Date().toISOString()
                }
            ];
            
            samplePosts.forEach((post, index) => {
                const postElement = document.createElement('div');
                postElement.className = 'blog-post';
                postElement.innerHTML = `
                    <img src="${post.image}" alt="${post.title}" class="blog-image">
                    <div class="blog-content">
                        <h3 class="text-xl font-bold mb-2">${post.title}</h3>
                        <p class="text-sm text-gray-600">Opublikowano: ${new Date(post.date).toLocaleDateString('pl-PL')}</p>
                        <div class="blog-excerpt">
                            <p class="mt-3">${post.excerpt}</p>
                        </div>
                        <div class="blog-full" style="display: none;">
                            <p class="mt-3">${post.content}</p>
                        </div>
                        <button class="nav-btn mt-4 read-more-btn" onclick="toggleReadMore(this)">Czytaj więcej</button>
                        <button class="nav-btn mt-2" onclick="shareArticle('${post.title}', '${post.image}')">
                            <i class="fas fa-share"></i> Udostępnij
                        </button>
                    </div>
                `;
                
                container.appendChild(postElement);
            });
            return;
        }
        
        posts.forEach((post, index) => {
            const postElement = document.createElement('div');
            postElement.className = 'blog-post';
            postElement.innerHTML = `
                ${post.image ? `<img src="${post.image}" alt="${post.title}" class="blog-image">` : 
                `<img src="https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="${post.title}" class="blog-image">`}
                <div class="blog-content">
                    <h3 class="text-xl font-bold mb-2">${post.title}</h3>
                    <p class="text-sm text-gray-600">Opublikowano: ${new Date(post.date).toLocaleDateString('pl-PL')}</p>
                    <div class="blog-excerpt">
                        <p class="mt-3">${post.excerpt}</p>
                    </div>
                    <div class="blog-full" style="display: none;">
                        <p class="mt-3">${post.content}</p>
                    </div>
                    <button class="nav-btn mt-4 read-more-btn" onclick="toggleReadMore(this)">Czytaj więcej</button>
                    <button class="nav-btn mt-2" onclick="shareArticle('${post.title}', '${post.image || 'https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'}')">
                        <i class="fas fa-share"></i> Udostępnij
                    </button>
                </div>
            `;
            
            container.appendChild(postElement);
        });
    }

    function toggleReadMore(button) {
        const post = button.closest('.blog-post');
        const excerpt = post.querySelector('.blog-excerpt');
        const full = post.querySelector('.blog-full');
        
        if (full.style.display === 'block') {
            full.style.display = 'none';
            excerpt.style.display = 'block';
            button.textContent = 'Czytaj więcej';
        } else {
            full.style.display = 'block';
            excerpt.style.display = 'none';
            button.textContent = 'Czytaj mniej';
        }
    }

    function showBlogForm() {
        document.getElementById('blogForm').style.display = 'block';
        document.getElementById('blogForm').scrollIntoView({ behavior: 'smooth' });
    }

    function hideBlogForm() {
        document.getElementById('blogForm').style.display = 'none';
    }

    function addNewBlogPost() {
        const title = document.getElementById('blogTitle').value;
        const excerpt = document.getElementById('blogExcerpt').value;
        const content = document.getElementById('blogContent').value;
        const image = document.getElementById('blogImage').value;
        
        const newPost = {
            title,
            excerpt,
            content,
            image,
            date: new Date().toISOString()
        };
        
        // Pobierz istniejące posty i dodaj nowy
        const blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || [];
        blogPosts.unshift(newPost);
        
        // Zapisz z powrotem do localStorage
        localStorage.setItem('blogPosts', JSON.stringify(blogPosts));
        
        // Odśwież wyświetlanie
        renderBlogPosts(blogPosts);
        
        // Wyczyść formularz i ukryj go
        document.getElementById('newBlogPostForm').reset();
        hideBlogForm();
        
        showNotification('Artykuł dodany pomyślnie!');
    }

    function shareArticle(title, image) {
        const subject = `Polecam artykuł: ${title}`;
        const body = `Cześć! Polecam Ci ten artykuł z AdelbertusShop: ${title}\n\nZobacz więcej na naszej stronie!`;
        
        window.open(`mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);
    }

    // ===== FORMULARZ KONTAKTOWY =====
    function initContactForm() {
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(contactForm);
                const name = contactForm.querySelector('input[type="text"]').value;
                const email = contactForm.querySelector('input[type="email"]').value;
                const subject = contactForm.querySelectorAll('input[type="text"]')[1].value;
                const message = contactForm.querySelector('textarea').value;
                
                const mailto = `mailto:mielniczukgrzegosz74@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Imię i nazwisko: ${name}\nEmail: ${email}\n\nWiadomość:\n${message}`)}`;
                window.open(mailto);
                
                showNotification('📧 Otwieranie klienta pocztowego...');
                contactForm.reset();
            });
        }
    }

    // ===== POMOCNICZE =====
    function showNotification(message) {
        // Utwórz element powiadomienia
        const notification = document.createElement('div');
        notification.textContent = message;
        notification.style.position = 'fixed';
        notification.style.bottom = '20px';
        notification.style.left = '50%';
        notification.style.transform = 'translateX(-50%)';
        notification.style.backgroundColor = '#d4af37';
        notification.style.color = 'black';
        notification.style.padding = '12px 24px';
        notification.style.borrow-radius = '30px';
        notification.style.zIndex = '1000';
        notification.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.2)';
        notification.style.fontWeight = 'bold';
        
        document.body.appendChild(notification);
        
        // Usuń po 3 sekundach
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    // Globalne funkcje
    window.addToCart = addToCart;
    window.removeFromCart = removeFromCart;
    window.toggleCart = toggleCart;
    window.toggleReadMore = toggleReadMore;
    window.showBlogForm = showBlogForm;
    window.hideBlogForm = hideBlogForm;
    window.shareArticle = shareArticle;
    window.toggleMobileMenu = toggleMobileMenu;
    window.sendOrderEmail = sendOrderEmail;
    window.sendOrderWhatsApp = sendOrderWhatsApp;
</script>

<!-- ======== LOGIKA ZAPROJEKTUJ PRO ======== -->
<script>
/* ======== LOGIKA ZAPROJEKTUJ PRO ======== */
const DSP = (() => {
  // Konfiguracja produktów i cen
  const priceMap = { tshirt_m:120, tshirt_w:120, hoodie:200, hoodie_hooded:220, cap_beanie:99, cap_snapback:119 };

  const productImages = {
    tshirt_m: {
      front: "https://i.ibb.co/C3sQZbzW/Screenshot-2025-09-03-21-34-27.png",
      back:  "https://i.ibb.co/5hbqdShw/Screenshot-2025-09-03-21-35-05.png",
      right: "https://i.ibb.co/q3jhSqbd/Screenshot-2025-09-03-21-35-26.png",
      left:  "https://i.ibb.co/Q7JX8rc3/Screenshot-2025-09-03-21-35-44.png",
    },
    tshirt_w: {
      front: "https://i.ibb.co/7x01YyxW/Screenshot-2025-09-03-21-39-40.png",
      back:  "https://i.ibb.co/4RPsF04T/Screenshot-2025-09-03-21-39-53.png",
      right: "https://i.ibb.co/Ld5svrZZ/Screenshot-2025-09-03-21-40-20.png",
    },
    hoodie: {
      front: "https://i.ibb.co/cSDrRTQb/Screenshot-2025-09-03-21-47-31.png",
      back:  "https://i.ibb.co/ynWTdTxB/Screenshot-2025-09-03-21-47-41.png",
      left:  "https://i.ibb.co/4nmpTKWQ/Screenshot-2025-09-03-21-47-55.png",
      right: "https://i.ibb.co/d02W6bmx/Screenshot-2025-09-03-21-48-07.png",
    },
    hoodie_hooded: {
      front: "https://i.ibb.co/G4Sk06d8/Screenshot-2025-09-03-21-49-47.png",
      back:  "https://i.ibb.co/B5rQ3wgY/Screenshot-2025-09-03-21-49-59.png",
      left:  "https://i.ibb.co/ZzpvCYWd/Screenshot-2025-09-03-21-50-12.png",
      right: "https://i.ibb.co/rK8hDs8N/Screenshot-2025-09-03-21-50-20.png",
    },
    cap_beanie: {
      front: "https://i.ibb.co/4ZgGCLKF/Screenshot-2025-09-03-21-42-58.png",
    },
    cap_snapback: {
      front: "https://i.ibb.co/KcH6r5VK/Screenshot-2025-09-03-21-41-23.png",
      back:  "https://i.ibb.co/RpzhjNZf/Screenshot-2025-09-03-21-41-57.png",
      left:  "https://i.ibb.co/JWsPTZTm/Screenshot-2025-09-03-21-42-12.png",
      right: "https://i.ibb.co/1twx95vM/Screenshot-2025-09-03-21-42-23.png",
    }
  };

  // Stan
  let currentProduct = 'tshirt_m';
  let currentView = 'front';
  let baseColor = '#000000';
  let activeEl = null;

  // Elementy DOM
  const $img = () => document.getElementById('dsp-product-image');
  const $layer = () => document.getElementById('dsp-design-layer');
  const $color = () => document.getElementById('dsp-product-color');
  const $summary = () => document.getElementById('dsp-summary');
  const $thumb = () => document.getElementById('dsp-thumb');
  const $thumbWrap = () => document.getElementById('dsp-thumb-wrap');
  const $viewSwitch = () => document.getElementById('dsp-view-switch');

  // Helpers
  const labelProduct = p => ({
    tshirt_m:'Koszulka męska', tshirt_w:'Koszulka damska',
    hoodie:'Bluza', hoodie_hooded:'Bluza z kapturem',
    cap_beanie:'Czapka', cap_snapback:'Czapka z daszkiem'
  }[p] || p);
  const labelView = v => ({front:'Przód', back:'Tył', left:'Lewy bok', right:'Prawy bok'}[v]||v);

  function init() {
    setProduct('tshirt_m', document.querySelector('.chip[data-product="tshirt_m"]'));
    setBaseColor('#000');
    document.getElementById('dsp-size').value = 'M';
    updatePrice();
    updateSummary();
    mountLayerClick();
  }

  function setProduct(p, btn) {
    currentProduct = p;
    document.querySelectorAll('.product-switch .chip').forEach(b=>b.classList.remove('active'));
    if (btn) btn.classList.add('active');

    // Odśwież dostępne widoki
    $viewSwitch().innerHTML = '';
    const views = Object.keys(productImages[p]);
    views.forEach((v, i) => {
      const b = document.createElement('button');
      b.className = 'chip' + (i===0?' active':'');
      b.textContent = labelView(v);
      b.onclick = ()=> setView(v, b);
      $viewSwitch().appendChild(b);
    });
    setView(views[0], $viewSwitch().querySelector('.chip'));
    updatePrice();
    updateSummary();
  }

  function setView(v, btn){
    currentView = v;
    document.querySelectorAll('#dsp-view-switch .chip').forEach(b=>b.classList.remove('active'));
    if (btn) btn.classList.add('active');
    const src = productImages[currentProduct][v];
    if (src) $img().src = src;
    updateSummary();
  }

  function setBaseColor(c){
    baseColor = c;
    $color().style.background = c;
    updateSummary();
  }

  function updatePrice(){
    document.getElementById('dsp-price').textContent = priceMap[currentProduct] + ' zł';
  }

  // ----- Elementy projektu -----
  function addText(){
    const text = document.getElementById('dsp-text').value.trim();
    if (!text) return;
    const font = document.getElementById('dsp-font').value;
    const size = parseInt(document.getElementById('dsp-fontsize').value) || 42;
    const color = document.getElementById('dsp-textcolor').value;

    const el = document.createElement('div');
    el.className = 'draggable text';
    el.style.setProperty('--r','0deg');
    el.style.setProperty('--s','1');
    el.dataset.type = 'text';
    el.dataset.font = font;
    el.dataset.size = size;
    el.dataset.color = color;
    el.dataset.x = 50;
    el.dataset.y = 50;

    const inner = document.createElement('div');
    inner.className = 'inner';
    inner.textContent = text;
    inner.style.fontFamily = font + ', sans-serif';
    inner.style.fontSize = size + 'px';
    inner.style.color = color;
    el.appendChild(inner);

    mountDraggable(el);
    $layer().appendChild(el);
    setActive(el);
    document.getElementById('dsp-text').value = '';
    updateSummary();
  }

  function addImage(e){
    const file = e.target.files[0];
    if (!file) return;
    const url = URL.createObjectURL(file);

    const el = document.createElement('div');
    el.className = 'draggable image';
    el.style.setProperty('--r','0deg');
    el.style.setProperty('--s','1');
    el.dataset.type = 'image';
    el.dataset.src = url;
    el.dataset.x = 50;
    el.dataset.y = 50;

    const inner = document.createElement('div');
    inner.className = 'inner';
    const img = document.createElement('img');
    img.src = url;
    img.style.maxWidth = '220px';
    img.style.maxHeight = '220px';
    img.style.display = 'block';
    inner.appendChild(img);
    el.appendChild(inner);

    mountDraggable(el);
    $layer().appendChild(el);
    setActive(el);
    e.target.value = '';
    updateSummary();
  }

  function clearElements(){
    $layer().innerHTML = '';
    activeEl = null;
    updateSummary();
    hideThumb();
  }

  function setActive(el){
    document.querySelectorAll('#dsp-design-layer .draggable').forEach(n=>n.classList.remove('active'));
    activeEl = el;
    if (el){
      el.classList.add('active');
      // Załaduj kontrolki pozycji/transformacji
      document.getElementById('dsp-scale').value = parseFloat(el.style.getPropertyValue('--s')) || 1;
      const r = parseFloat((el.style.getPropertyValue('--r')||'0deg').replace('deg','')) || 0;
      document.getElementById('dsp-rotate').value = r;
      document.getElementById('dsp-x').value = el.dataset.x || 50;
      document.getElementById('dsp-y').value = el.dataset.y || 50;
    }
  }

  function centerActive(){
    if (!activeEl) return;
    activeEl.dataset.x = 50;
    activeEl.dataset.y = 50;
    applyPosition();
  }

  function deleteActive(){
    if (!activeEl) return;
    activeEl.remove();
    activeEl = null;
    updateSummary();
  }

  function bringToFront(){
    if (!activeEl) return;
    $layer().appendChild(activeEl);
  }
  function sendToBack(){
    if (!activeEl) return;
    $layer().insertBefore(activeEl, $layer().firstChild);
  }

  // Dragging
  function mountDraggable(el){
    el.addEventListener('pointerdown', startDrag);
    el.addEventListener('click', ()=> setActive(el));
  }

  let dragging = false, start = {x:0,y:0}, startXY={x:50,y:50};
  function startDrag(e){
    setActive(this);
    dragging = true;
    this.setPointerCapture(e.pointerId);
    start.x = e.clientX; start.y = e.clientY;
    startXY.x = parseFloat(this.dataset.x)||50;
    startXY.y = parseFloat(this.dataset.y)||50;
    this.addEventListener('pointermove', onDrag);
    this.addEventListener('pointerup', stopDrag, {once:true});
  }
  function onDrag(e){
    if (!dragging || !activeEl) return;
    const area = document.getElementById('dsp-product-area').getBoundingClientRect();
    const dx = (e.clientX - start.x) / area.width * 100;
    const dy = (e.clientY - start.y) / area.height * 100;
    activeEl.dataset.x = clamp(startXY.x + dx, 0, 100);
    activeEl.dataset.y = clamp(startXY.y + dy, 0, 100);
    updateElTransform(activeEl);
    syncSliders();
  }
  function stopDrag(e){
    dragging = false;
    this.releasePointerCapture(e.pointerId);
    this.removeEventListener('pointermove', onDrag);
    updateSummary();
  }

  function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }
  function syncSliders(){
    document.getElementById('dsp-x').value = activeEl ? activeEl.dataset.x : 50;
    document.getElementById('dsp-y').value = activeEl ? activeEl.dataset.y : 50;
  }

  function applyTransform(){
    if (!activeEl) return;
    const s = parseFloat(document.getElementById('dsp-scale').value)||1;
    const r = parseFloat(document.getElementById('dsp-rotate').value)||0;
    activeEl.style.setProperty('--s', s);
    activeEl.style.setProperty('--r', r + 'deg');
    updateSummary();
  }

  function applyPosition(){
    if (!activeEl) return;
    const x = parseFloat(document.getElementById('dsp-x').value)||50;
    const y = parseFloat(document.getElementById('dsp-y').value)||50;
    activeEl.dataset.x = x; activeEl.dataset.y = y;
    updateElTransform(activeEl);
    updateSummary();
  }

  function updateElTransform(el){
    const x = parseFloat(el.dataset.x)||50;
    const y = parseFloat(el.dataset.y)||50;
    el.style.left = x + '%';
    el.style.top  = y + '%';
  }

  function mountLayerClick(){
    $layer().addEventListener('click', (e)=>{
      if (e.target === $layer()) setActive(null);
    });
  }

  // ----- Podsumowanie + Miniatura -----
  function updateSummary(){
    const size = document.getElementById('dsp-size').value;
    let lines = [];
    lines.push(`Produkt: ${labelProduct(currentProduct)} | Widok: ${labelView(currentView)} | Rozmiar: ${size}`);
    lines.push(`Kolor bazowy: ${baseColor}`);
    const els = Array.from($layer().children);
    if (els.length === 0){
      lines.push('Elementy: brak');
    } else {
      els.forEach((el, i)=>{
        const x = Math.round(parseFloat(el.dataset.x)||50);
        const y = Math.round(parseFloat(el.dataset.y)||50);
        const s = parseFloat(el.style.getPropertyValue('--s'))||1;
        const r = parseFloat((el.style.getPropertyValue('--r')||'0deg').replace('deg',''))||0;
        if (el.dataset.type === 'text'){
          const inner = el.querySelector('.inner');
          lines.push(`${i+1}. Tekst "${inner.textContent}" (font:${el.dataset.font}, size:${el.dataset.size}px, color:${el.dataset.color}) @ ${x}%,${y}% | scale:${s.toFixed(2)} rot:${r}°`);
        } else {
          const img = el.querySelector('img');
          lines.push(`${i+1}. Obraz (${img.naturalWidth}x${img.naturalHeight}) @ ${x}%,${y}% | scale:${s.toFixed(2)} rot:${r}°`);
        }
      });
    }
    $summary().textContent = lines.join('\n');
  }

  function hideThumb(){
    $thumbWrap().classList.add('hidden');
  }
  function showThumb(url){
    $thumb().src = url;
    $thumbWrap().classList.remove('hidden');
  }

  // Render PNG do pobrania + miniatura
  function savePNG(){
    renderToCanvas().then(({canvas, url})=>{
      // miniatura
      showThumb(url);
      // pobierz
      const a = document.createElement('a');
      a.download = `projekt-${currentProduct}-${currentView}.png`;
      a.href = url;
      a.click();
    }).catch(err=>{
      console.error(err);
      alert('Nie udało się wygenerować PNG. Upewnij się, że obrazy się załadowały.');
    });
  }

  // Rysowanie na canvasie: kolor, mockup, elementy (tekst+obraz, z obrotem/skalą)
  async function renderToCanvas(){
    const area = document.getElementById('dsp-product-area');
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');

    const w = area.clientWidth;
    const h = area.clientHeight;
    canvas.width = w; canvas.height = h;

    // tło kolor
    ctx.fillStyle = baseColor;
    ctx.fillRect(0,0,w,h);

    // rysuj mockup
    const baseImg = $img();
    await ensureLoaded(baseImg);
    // dopasowanie contain
    const imgW = baseImg.naturalWidth, imgH = baseImg.naturalHeight;
    const imgAspect = imgW/imgH, areaAspect = w/h;
    let dw, dh, dx, dy;
    if (imgAspect > areaAspect) { dw = w; dh = w/imgAspect; dx = 0; dy = (h-dh)/2; }
    else { dh = h; dw = h*imgAspect; dx = (w-dw)/2; dy = 0; }
    ctx.drawImage(baseImg, dx, dy, dw, dh);

    // elementy (kolejność DOM)
    const els = Array.from($layer().children);
    for (const el of els){
      const xPct = parseFloat(el.dataset.x)||50;
      const yPct = parseFloat(el.dataset.y)||50;
      const x = xPct/100 * w;
      const y = yPct/100 * h;
      const scale = parseFloat(el.style.getPropertyValue('--s'))||1;
      const rot = (parseFloat((el.style.getPropertyValue('--r')||'0deg').replace('deg',''))||0) * Math.PI/180;

      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rot);
      ctx.scale(scale, scale);

      if (el.dataset.type === 'text'){
        const font = el.dataset.size + 'px ' + (el.dataset.font || 'Montserrat');
        ctx.font = font;
        ctx.fillStyle = el.dataset.color || '#000';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        const inner = el.querySelector('.inner');
        ctx.fillText(inner.textContent, 0, 0);
      } else {
        const img = el.querySelector('img');
        await ensureLoaded(img);
        const maxW = 220, maxH = 220; // zgodne z DOM
        const ratio = Math.min(maxW/img.naturalWidth, maxH/img.naturalHeight);
        const drawW = img.naturalWidth * ratio;
        const drawH = img.naturalHeight * ratio;
        ctx.drawImage(img, -drawW/2, -drawH/2, drawW, drawH);
      }
      ctx.restore();
    }

    const url = canvas.toDataURL('image/png');
    return {canvas, url};
  }

  function ensureLoaded(img){
    return new Promise((res, rej)=>{
      if (img.complete && img.naturalWidth) return res();
      img.onload = ()=>res();
      img.onerror = ()=>rej(new Error('image load error'));
    });
  }

  // ----- Akcje główne -----
  function newProject(){
    clearElements();
    document.getElementById('dsp-text').value='';
    document.getElementById('dsp-fontsize').value='42';
    document.getElementById('dsp-textcolor').value='#000000';
    setBaseColor('#000000');
    updateSummary();
  }

  function sendProject(){
    const body = encodeURIComponent($summary().textContent + '\n\n(Dołącz PNG: użyj "Zapisz PNG")');
    window.location.href = `mailto:mielniczukgrzegosz74@gmail.com?subject=Projekt%20ze%20studia&body=${body}`;
  }

  function addToCart(){
    try{
      const size = document.getElementById('dsp-size').value;
      const els = Array.from($layer().children).map(el=>{
        const common = {
          x: parseFloat(el.dataset.x)||50,
          y: parseFloat(el.dataset.y)||50,
          scale: parseFloat(el.style.getPropertyValue('--s'))||1,
          rotate: parseFloat((el.style.getPropertyValue('--r')||'0deg').replace('deg',''))||0,
        };
        if (el.dataset.type==='text'){
          return {...common, type:'text', text: el.querySelector('.inner').textContent, font: el.dataset.font, size: parseInt(el.dataset.size)||42, color: el.dataset.color};
        } else {
          return {...common, type:'image', src: el.dataset.src};
        }
      });

      const item = {
        product: currentProduct,
        productLabel: labelProduct(currentProduct),
        view: currentView,
        size,
        color: baseColor,
        price: priceMap[currentProduct],
        elements: els,
        time: new Date().toISOString()
      };

      const cart = JSON.parse(localStorage.getItem('designCart')||'[]');
      cart.push(item);
      localStorage.setItem('designCart', JSON.stringify(cart));
      alert('✅ Projekt dodany do koszyka!');
    }catch(e){
      console.error(e);
      alert('❌ Błąd dodawania do koszyka.');
    }
  }

  // API kontroli z suwaków
  function applyTransformPublic(){ applyTransform(); }
  function applyPositionPublic(){ applyPosition(); }

  // Inicjalizacja
  document.addEventListener('DOMContentLoaded', init);

  return {
    init,
    setProduct, setBaseColor, setView,
    addText, addImage, clearElements, centerActive, deleteActive,
    bringToFront, sendToBack, applyTransform: applyTransformPublic, applyPosition: applyPositionPublic,
    savePNG, newProject, sendProject, addToCart, updateSummary
  };
})();
</script>
<!-- ============ /ZAPROJEKTUJ PRO ============ -->
</body>
</html>
     



































































































































































