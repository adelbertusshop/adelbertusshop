<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koszyk</title>

<!-- PayPal ‚Äì sta≈Çe, Hosted Buttons -->
<script src="https://www.paypal.com/sdk/js?client-id=BAApXIlx_i9yxgPZvc4vuso00U8LSVbTZl57n3Pcfr0LfvppkHOPgUjsoN8-QLjxxH-Qb1DlbNOd-Pb2Z4&components=hosted-buttons&disable-funding=venmo&currency=PLN"></script>

<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
  .koszyk { max-width: 600px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.2);}
  .paypal-btn { margin-top: 20px; }
  /* Ikona koszyka */
  #cartIcon {
    position: fixed; right: 20px; top: 20px;
    background:#ffcc00; color:#000; border-radius:50%;
    width:48px; height:48px; display:flex; align-items:center; justify-content:center;
    font-size:22px; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.25);
    z-index: 1000;
  }
  #cartIcon .count {
    position:absolute; bottom:-6px; right:-6px; background:#e53935; color:#fff;
    width:22px; height:22px; border-radius:50%; font-size:12px; display:flex; align-items:center; justify-content:center;
    box-shadow:0 2px 8px rgba(0,0,0,.25);
  }
  /* Panel koszyka */
  #cartPanel {
    position: fixed; top: 0; right: 0; width: 360px; height: 100vh; background:#111; color:#fff;
    transform: translateX(100%); transition: transform .25s ease; z-index: 1100;
    box-shadow: -10px 0 30px rgba(0,0,0,.35);
    display: flex; flex-direction: column;
  }
  #cartPanel.show { transform: translateX(0); }
  .cartHeader { padding: 14px 16px; background:#222; display:flex; align-items:center; justify-content:space-between; }
  .cartBody { padding: 14px 16px; overflow:auto; flex:1; }
  .cartFooter { padding: 14px 16px; border-top:1px solid #333; background:#181818; }
  .btn { border:none; border-radius:8px; padding:10px 14px; cursor:pointer; font-weight:700; }
  .btn-primary { background:#2e7d32; color:#fff; }
  .btn-light { background:#eee; color:#111; }
</style>
</head>
<body>

<!-- Ikona koszyka (bez produkt√≥w przyk≈Çadowych) -->
<div id="cartIcon" title="Otw√≥rz koszyk">üõí<span class="count" id="cartCount">0</span></div>

<!-- Panel koszyka -->
<div id="cartPanel" aria-hidden="true">
  <div class="cartHeader">
    <strong>Tw√≥j koszyk</strong>
    <button class="btn btn-light" id="closeCart">Zamknij</button>
  </div>
  <div class="cartBody">
    <div id="cartEmpty" style="color:#bbb">Koszyk jest pusty.</div>
    <div id="cartItems"></div>
  </div>
  <div class="cartFooter">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <strong>Suma:</strong>
      <strong><span id="total">0</span> z≈Ç</strong>
    </div>
    <div id="paypal-container-L4639S4363CZE" class="paypal-btn"></div>
    <button id="sendMail" class="btn btn-primary" style="width:100%;margin-top:10px">Wy≈õlij zam√≥wienie mailem</button>
  </div>
</div>

<!-- G≈Ç√≥wna karta "Koszyk" (zgodnie z Twoim szkieletem) -->
<div class="koszyk">
  <h2>Tw√≥j Koszyk</h2>
  <p><strong>≈ÅƒÖcznie: <span id="totalMirror">0</span> z≈Ç</strong></p>
  <button id="sendMailMirror">Wy≈õlij zam√≥wienie mailem</button>
</div>

<script>
  // ======== Minimalny, dynamiczny koszyk (bez ≈ºadnych przyk≈Çadowych produkt√≥w) ========
  let cart = []; // {name, price, qty}

  // UI refs
  const cartIcon = document.getElementById('cartIcon');
  const cartPanel = document.getElementById('cartPanel');
  const closeCartBtn = document.getElementById('closeCart');
  const cartItemsEl = document.getElementById('cartItems');
  const cartEmptyEl = document.getElementById('cartEmpty');
  const cartCountEl = document.getElementById('cartCount');
  const totalEl = document.getElementById('total');
  const totalMirrorEl = document.getElementById('totalMirror');

  function toggleCart(show) {
    if (typeof show === 'boolean') {
      cartPanel.classList.toggle('show', show);
      cartPanel.setAttribute('aria-hidden', show ? 'false' : 'true');
    } else {
      const isOpen = cartPanel.classList.contains('show');
      cartPanel.classList.toggle('show', !isOpen);
      cartPanel.setAttribute('aria-hidden', isOpen ? 'true' : 'false');
    }
  }

  cartIcon.addEventListener('click', () => toggleCart(true));
  closeCartBtn.addEventListener('click', () => toggleCart(false));

  function updateTotals() {
    const total = cart.reduce((s,i)=> s + i.price * i.qty, 0);
    totalEl.textContent = total.toFixed(2);
    totalMirrorEl.textContent = total.toFixed(2);
    cartCountEl.textContent = cart.reduce((s,i)=> s + i.qty, 0);
    cartEmptyEl.style.display = cart.length ? 'none' : 'block';
    return total;
  }

  function renderCart() {
    cartItemsEl.innerHTML = '';
    cart.forEach((item, idx) => {
      const row = document.createElement('div');
      row.style.cssText = 'display:flex;justify-content:space-between;align-items:center;background:#222;padding:8px;border-radius:8px;margin-bottom:8px;';
      row.innerHTML = `
        <div>
          <div style="font-weight:700">${item.name}</div>
          <div style="color:#bbb;font-size:13px">${item.price.toFixed(2)} z≈Ç √ó ${item.qty}</div>
        </div>
        <div>
          <button class="btn btn-light" data-act="dec" data-idx="${idx}">-</button>
          <button class="btn btn-light" data-act="inc" data-idx="${idx}">+</button>
          <button class="btn btn-light" data-act="del" data-idx="${idx}">Usu≈Ñ</button>
        </div>
      `;
      cartItemsEl.appendChild(row);
    });
    updateTotals();
  }

  cartItemsEl.addEventListener('click', (e) => {
    const btn = e.target.closest('button[data-act]');
    if (!btn) return;
    const act = btn.dataset.act;
    const idx = Number(btn.dataset.idx);
    if (Number.isNaN(idx) || !cart[idx]) return;

    if (act === 'inc') cart[idx].qty++;
    if (act === 'dec') cart[idx].qty = Math.max(1, cart[idx].qty - 1);
    if (act === 'del') cart.splice(idx, 1);
    renderCart();
  });

  // ====== PUBLICZNA FUNKCJA: wywo≈Çuj z dowolnego miejsca/produktu ======
  // window.addToCart("Nazwa produktu", 123.45)
  window.addToCart = function(name, price) {
    const p = Number(price);
    if (!name || !Number.isFinite(p)) return;
    const found = cart.find(i => i.name === name && i.price === p);
    if (found) found.qty++;
    else cart.push({ name, price: p, qty: 1 });
    renderCart();
  };

  // ====== Delegacja: przycisk .add-to-cart (data-name, data-price) ‚Äì bez dodawania przyk≈Çad√≥w ======
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.add-to-cart');
    if (!btn) return;
    const name = btn.getAttribute('data-name') || 'Produkt';
    const price = parseFloat(btn.getAttribute('data-price') || '0');
    if (!Number.isFinite(price)) return;
    window.addToCart(name, price);
    toggleCart(true);
  });

  // ====== Mail (oba przyciski: w panelu i w sekcji g≈Ç√≥wnej) ======
  function sendMail() {
    const lines = cart.length
      ? cart.map(i => `${i.name} √ó ${i.qty} = ${(i.price*i.qty).toFixed(2)} z≈Ç`).join('\n')
      : 'Koszyk pusty.';
    const total = updateTotals().toFixed(2);
    const body = `Zam√≥wienie:\n\n${lines}\n\nSuma: ${total} z≈Ç`;
    // Podmie≈Ñ na sw√≥j adres:
    const mail = 'tw√≥jemail@domena.com';
    window.location.href = `mailto:${mail}?subject=Zam√≥wienie&body=${encodeURIComponent(body)}`;
  }
  document.getElementById('sendMail').addEventListener('click', sendMail);
  document.getElementById('sendMailMirror').addEventListener('click', sendMail);

  // ====== PayPal Hosted Button (sta≈Çy) ======
  paypal.HostedButtons({
    hostedButtonId: "L4639S4363CZE",
  }).render("#paypal-container-L4639S4363CZE");

  // Start
  renderCart();
</script>

</body>
</html></html>üéØ G≈Å√ìWNY BANER Z ANIMACJƒÑ I Z≈ÅOTYMI DETALAMI -->
<section class="relative h-screen w-full overflow-hidden flex flex-col justify-between font-[Georgia]">
  <!-- Napis nad banerem -->
  <div class="z-20 text-center pt-6 px-4 animate-fade-down">
    <h2 class="text-xl md:text-3xl font-bold text-yellow-400 drop-shadow-[0_0_10px_#d4af37] border border-yellow-400 rounded-lg inline-block px-4 py-2 bg-black bg-opacity-50">
      To nie produkt, To lustro. Gotowy zobaczyƒá, co w nim jest
    </h2>
  </div>

  <!-- Obraz banera -->
  <div class="relative flex-1">
    <img src="https://i.ibb.co/Z1VjqzN8/Messenger-creation-C3-B74628-A8-E4-4293-B46-D-754-D2-C97-F8-CC.jpg"
         alt="Baner g≈Ç√≥wny"
         class="absolute inset-0 w-full h-full object-cover object-center opacity-90 transition-transform duration-1000 ease-out hover:scale-105 md:hover:scale-110">
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    <div class="absolute inset-0 flex flex-col justify-center items-center text-center px-6 animate-fade-up">
      <h1 class="text-4xl md:text-6xl font-extrabold text-yellow-300 drop-shadow-[0_0_15px_#d4af37] border-b-2 border-yellow-500 pb-2">
        Adelbertus Shop
      </h1>
      <p class="mt-4 text-xl md:text-2xl text-gray-200 font-medium max-w-2xl drop-shadow-md">
        
      </p>
    </div>
  </div>

  <!-- Napis pod banerem -->
  <div class="z-20 text-center pb-6 px-4 animate-fade-up">
    <h3 class="text-lg md:text-2xl font-semibold text-yellow-200 drop-shadow-[0_0_10px_#d4af37] border border-yellow-400 rounded-lg inline-block px-4 py-2 bg-black bg-opacity-50">
      Ka≈ºdy mo≈ºe kupiƒá, ale nie ka≈ºdy zrozumie.
    </h3>
  </div>
</section>

<!-- Animacje CSS -->
<style>
@keyframes fadeDown { 
  0% { opacity: 0; transform: translateY(-30px); } 
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes fadeUp { 
  0% { opacity: 0; transform: translateY(30px); } 
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade-down { animation: fadeDown 1.5s ease forwards; }
.animate-fade-up { animation: fadeUp 1.5s ease forwards; }
<!-- ====================== SKLEP PREMIUM ====================== -->
<section id="sklep" class="py-16 bg-[#0a0a0a] text-white">
  <div class="max-w-7xl mx-auto px-6">
    <!-- Z≈Çoty nag≈Ç√≥wek -->
    <div class="text-center mb-16">
      <div class="inline-block relative">
        <h2 class="text-5xl font-bold text-[#d4af37] mb-4 relative z-10">EXCLUSIVE COLLECTION</h2>
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-[#d4af37] to-transparent"></div>
      </div>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto mt-6">
        Odkryj naszƒÖ limitowanƒÖ kolekcjƒô premium - po≈ÇƒÖczenie luksusu i streetwearu
      </p>
    </div>

    <!-- Kategorie -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
      <!-- Unisex Collection -->
  <div class="relative group overflow-hidden rounded-xl border-2 border-[#d4af37] bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] transition-all duration-500 hover:shadow-[0_0_30px_rgba(212,175,55,0.3)]">
        <div class="p-8 text-center">
          <h3 class="text-3xl font-bold text-[#d4af37] mb-6">UNISEX</h3>
          <div class="space-y-4">
            <a href="#koszulki" class="block text-lg font-medium text-white hover:text-[#d4af37] transition-colors">Koszulki - 120 z≈Ç</a>
            <a href="#bluzy" class="block text-lg font-medium text-white hover:text-[#d4af37] transition-colors">Bluzy - 200 z≈Ç</a>
            <a href="#bluzy-kaptur" class="block text-lg font-medium text-white hover:text-[#d4af37] transition-colors">Bluzy z kapturem - 220 z≈Ç</a>
            <a href="#czapki" class="block text-lg font-medium text-white hover:text-[#d4af37] transition-colors">Czapki - 99 z≈Ç</a>
          </div>
        </div>
      </div>

      <!-- Nowo≈õci -->
      <div class="relative group overflow-hidden rounded-xl border-2 border-[#d4af37] bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] transition-all duration-500 hover:shadow-[0_0_30px_rgba(212,175,55,0.3)]">
        <div class="p-8 text-center">
          <h3 class="text-3xl font-bold text-[#d4af37] mb-6">NEW ARRIVALS</h3>
          <p class="text-gray-400 italic">NadchodzƒÖce premiery...</p>
          <div class="mt-6">
            <div class="bg-gray-700 h-48 rounded-lg flex items-center justify-center">
              <span class="text-gray-500">Coming Soon</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Projektuj sam -->
      <div class="relative group overflow-hidden rounded-xl border-2 border-[#d4af37] bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] transition-all duration-500 hover:shadow-[0_0_30px_rgba(212,175,55,0.3)]">
        <div class="p-8 text-center">
          <h3 class="text-3xl font-bold text-[#d4af37] mb-6">CUSTOM DESIGN</h3>
          <a href="#projektuj" class="block text-lg font-medium text-white hover:text-[#d4af37] transition-colors mb-6">
            Zaprojektuj w≈Çasny produkt
          </a>
          <div class="bg-gray-700 h-48 rounded-lg flex items-center justify-center">
            <span class="text-gray-500">Design Studio</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ==================== KOSZULKI ==================== -->
    <div id="koszulki" class="py-10">
      <div class="border-b-2 border-[#d4af37] pb-4 mb-10">
        <h3 class="text-4xl font-bold text-[#d4af37]">KOSZULKI</h3>
        <p class="text-gray-400">Limitowana kolekcja premium - 120 z≈Ç</p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
        <!-- Produkt 1 -->
        <div class="group relative bg-[#1e1e1e] rounded-xl overflow-hidden border border-[#333] hover:border-[#d4af37] transition-all duration-300">
          <div class="relative overflow-hidden">
            <img src="https://i.ibb.co/dXSNgRp/Messenger-creation-78-FBFCA7-7344-4-B0-F-BE56-AB8-DD33-C051-C.jpg" 
                 alt="Koszulka Rebel" 
                 class="w-full h-80 object-cover transition-transform duration-500 group-hover:scale-105">
          </div>
          <div class="p-6">
            <h4 class="text-xl font-bold mb-2">Koszulka "Rebel"</h4>
            <p class="text-[#d4af37] font-medium mb-4">120 z≈Ç</p>
            
            <div class="mb-4">
              <label class="block text-gray-400 mb-2">Rozmiar:</label>
              <select class="w-full bg-[#2a2a2a] border border-[#444] text-white rounded px-4 py-2">
                <option>S</option>
                <option>M</option>
                <option>L</option>
                <option>XL</option>
              </select>
            </div>
            
            <div class="mb-6">
              <label class="block text-gray-400 mb-2">Kolor:</label>
              <select class="w-full bg-[#2a2a2a] border border-[#444] text-white rounded px-4 py-2">
                <option>Czarny</option>
                <option>Bia≈Çy</option>
                <option>Z≈Çoty</option>
              </select>
            </div>
            
            <button onclick="addToCart('Koszulka Rebel', 120)" 
                    class="w-full bg-[#d4af37] hover:bg-[#c9a227] text-black font-bold py-3 rounded transition-colors duration-300">
              Dodaj do koszyka
            </button>
          </div>
        </div>

        <!-- Produkt 2 -->
        <div class="group relative bg-[#1e1e1e] rounded-xl overflow-hidden border border-[#333] hover:border-[#d4af37] transition-all duration-300">
          <div class="relative overflow-hidden">
            <img src="https://i.ibb.co/wNJNHvkn/Screenshot-20250522-191944-Chat-GPT.jpg" 
                 alt="Koszulka Classic" 
                 class="w-full h-80 object-cover transition-transform duration-500 group-hover:scale-105">
          </div>
          <div class="p-6">
            <h4 class="text-xl font-bold mb-2">Koszulka "Classic"</h4>
            <p class="text-[#d4af37] font-medium mb-4">120 z≈Ç</p>
            
            <div class="mb-4">
              <label class="block text-gray-400 mb-2">Rozmiar:</label>
              <select class="w-full bg-[#2a2a2a] border border-[#444] text-white rounded px-4 py-2">
                <option>S</option>
                <option>M</option>
                <option>L</option>
                <option>XL</option>
              </select>
            </div>
            
            <div class="mb-6">
              <label class="block text-gray-400 mb-2">Kolor:</label>
              <select class="w-full bg-[#2a2a2a] border border-[#444] text-white rounded px-4 py-2">
                <option>Czarny</option>
                <option>Bia≈Çy</option>
                <option>Z≈Çoty</option>
              </select>
            </div>
            
            <button onclick="addToCart('Koszulka Classic', 120)" 
                    class="w-full bg-[#d4af37] hover:bg-[#c9a227] text-black font-bold py-3 rounded transition-colors duration-300">
              Dodaj do koszyka
            </button>
          </div>
        </div>
        
        <!-- Dodaj wiƒôcej produkt√≥w w podobnym stylu -->
      </div>
    </div>
  </div>
</section>
<!-- ====================== ZAPROJEKTUJ ====================== -->
<section id="projektuj" class="py-16 bg-[#0a0a0a] text-white">
  <div class="max-w-7xl mx-auto px-6">
    <div class="text-center mb-16">
      <div class="inline-block relative">
        <h2 class="text-5xl font-bold text-[#d4af37] mb-4 relative z-10">CUSTOM DESIGN</h2>
        <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-[#d4af37] to-transparent"></div>
      </div>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto mt-6">
        Zaprojektuj w≈Çasny produkt i dodaj go do koszyka
      </p>
    </div>

    <canvas id="podgladProdukt" width="500" height="500" class="mx-auto block border border-gray-600 rounded-lg mb-6"></canvas>

    <div class="flex flex-wrap justify-center gap-4 mb-6">
      <input id="projektTekst" type="text" placeholder="Tw√≥j tekst" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
      <select id="czcionka" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
        <option value="Arial">Arial</option>
        <option value="Verdana">Verdana</option>
        <option value="Times New Roman">Times New Roman</option>
      </select>
      <input id="rozmiarTekstu" type="number" value="36" min="10" max="100" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
      <input id="kolorTekstu" type="color" value="#000000" class="w-12 h-12 p-0 border-0">
      <input id="kolorProduktu" type="color" value="#ffffff" class="w-12 h-12 p-0 border-0">
      <input id="projektGrafika" type="file" accept="image/*" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
      <select id="umiejscowienie" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
        <option value="front">Prz√≥d</option>
        <option value="back">Ty≈Ç</option>
        <option value="top">G√≥ra</option>
        <option value="bottom">D√≥≈Ç</option>
      </select>
      <select id="projektRozmiar" class="px-4 py-2 rounded bg-[#1a1a1a] text-white">
        <option value="XS">XS</option>
        <option value="S">S</option>
        <option value="M" selected>M</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
        <option value="XXL">XXL</option>
      </select>
    </div>

    <div class="flex flex-wrap justify-center gap-4 mb-6">
      <button id="przodBtn" class="px-4 py-2 bg-[#d4af37] text-black rounded font-bold">Prz√≥d</button>
      <button id="tylBtn" class="px-4 py-2 bg-[#d4af37] text-black rounded font-bold">Ty≈Ç</button>
    </div>

    <!-- >>> Tw√≥j wymagany przycisk dok≈Çadnie jak poda≈Çe≈õ <<< -->
    <div class="flex justify-center gap-4 mt-4">
      <button id="dodajProjektDoKoszyka" 
              class="bg-[#d4af37] hover:bg-[#c9a227] text-black font-bold py-3 px-6 rounded transition-colors duration-300">
        Dodaj do koszyka
      </button>
    </div>
  </div>
</section>

<script>
(() => {
  const canvas = document.getElementById('podgladProdukt');
  const ctx = canvas.getContext('2d');

  const btnPrzod = document.getElementById('przodBtn');
  const btnTyl = document.getElementById('tylBtn');
  const inputTekst = document.getElementById('projektTekst');
  const selectCzcionka = document.getElementById('czcionka');
  const rangeRozmiar = document.getElementById('rozmiarTekstu');
  const inputKolorTekstu = document.getElementById('kolorTekstu');
  const inputKolorProduktu = document.getElementById('kolorProduktu');
  const fileGrafika = document.getElementById('projektGrafika');
  const selectUmiejscowienie = document.getElementById('umiejscowienie');
  const selectRozmiar = document.getElementById('projektRozmiar');

  let currentView = 'front';
  // projekt zawiera pola u≈ºywane p√≥≈∫niej w Twoim handlerze (umiejscowienie, rozmiarProdukt)
  let projektPrzod = { tekst:'', czcionka:'Arial', rozmiar:36, kolorTekstu:'#000000', kolorProduktu:'#ffffff', grafikaDataUrl:null, textX:250, textY:250, umiejscowienie:'front', rozmiarProdukt:'M' };
  let projektTyl   = { ...projektPrzod };

  let drag = { active:false, offsetX:0, offsetY:0 };

  function getActiveProject(){ return currentView === 'front' ? projektPrzod : projektTyl; }
  function loadProjectToControls(){
    const p = getActiveProject();
    inputTekst.value = p.tekst;
    selectCzcionka.value = p.czcionka;
    rangeRozmiar.value = p.rozmiar;
    inputKolorTekstu.value = p.kolorTekstu;
    inputKolorProduktu.value = p.kolorProduktu;
    selectUmiejscowienie.value = p.umiejscowienie || 'front';
    selectRozmiar.value = p.rozmiarProdukt || 'M';
  }
  function saveControlsToProject(){
    const p = getActiveProject();
    p.tekst = inputTekst.value;
    p.czcionka = selectCzcionka.value;
    p.rozmiar = parseInt(rangeRozmiar.value, 10);
    p.kolorTekstu = inputKolorTekstu.value;
    p.kolorProduktu = inputKolorProduktu.value;
    p.umiejscowienie = selectUmiejscowienie.value;
    p.rozmiarProdukt = selectRozmiar.value;
  }
  function switchView(view){ currentView = view; loadProjectToControls(); rysujProdukt(); }

  fileGrafika.addEventListener('change', e => {
    const f = e.target.files[0]; if(!f) return;
    const reader = new FileReader();
    reader.onload = ev => { getActiveProject().grafikaDataUrl = ev.target.result; rysujProdukt(); };
    reader.readAsDataURL(f);
  });

  [inputTekst, selectCzcionka, rangeRozmiar, inputKolorTekstu, inputKolorProduktu, selectUmiejscowienie, selectRozmiar]
    .forEach(el => el.addEventListener('input', () => { saveControlsToProject(); rysujProdukt(); }));

  btnPrzod.addEventListener('click', () => switchView('front'));
  btnTyl.addEventListener('click', () => switchView('back'));

  canvas.addEventListener('mousedown', e => {
    const p = getActiveProject(); const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left; const y = e.clientY - rect.top;
    if(p.tekst){
      drag.active = true; drag.offsetX = x - p.textX; drag.offsetY = y - p.textY; canvas.style.cursor = 'grabbing';
    }
  });
  canvas.addEventListener('mousemove', e => {
    if(!drag.active) return;
    const p = getActiveProject(); const rect = canvas.getBoundingClientRect();
    p.textX = e.clientX - rect.left - drag.offsetX; p.textY = e.clientY - rect.top - drag.offsetY;
    rysujProdukt();
  });
  canvas.addEventListener('mouseup',   () => { drag.active = false; canvas.style.cursor=''; });
  canvas.addEventListener('mouseleave',() => { drag.active = false; canvas.style.cursor=''; });

  function rysujProdukt(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    const p = getActiveProject();
    // proste ‚Äûcia≈Ço‚Äù produktu
    ctx.fillStyle = p.kolorProduktu; ctx.strokeStyle = '#333'; ctx.lineWidth = 3;
    ctx.fillRect(110,70,280,360); ctx.strokeRect(110,70,280,360);

    if(p.grafikaDataUrl){
      const img = new Image();
      img.onload = () => { ctx.drawImage(img, 150, 150, 200, 200); drawTextOver(p); };
      img.src = p.grafikaDataUrl;
    } else {
      drawTextOver(p);
    }
  }
  function drawTextOver(p){
    if(!p.tekst) return;
    ctx.font = `${p.rozmiar}px ${p.czcionka}`;
    ctx.fillStyle = p.kolorTekstu;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(p.tekst, p.textX, p.textY);
  }

  loadProjectToControls();
  rysujProdukt();

  /* ====== TW√ìJ DOK≈ÅADNY HANDLER ‚Äì wklejony bez zmian ====== */
  document.getElementById('dodajProjektDoKoszyka').addEventListener('click', () => {
    saveControlsToProject(); // zapisuje aktualny stan projektu
    const projekt = getActiveProject();
    const canvasData = document.getElementById('podgladProdukt').toDataURL('image/png');
    
    const basePrice = 120;
    const sizePrices = { XS:0, S:0, M:0, L:2, XL:4, XXL:6 };
    const price = basePrice + (sizePrices[projekt.rozmiarProdukt] || 0);

    addToCart(
      `Tw√≥j projekt (${projekt.rozmiarProdukt})`,
      price,
      canvasData,
      {
        tekst: projekt.tekst,
        czcionka: projekt.czcionka,
        kolorTekstu: projekt.kolorTekstu,
        kolorProduktu: projekt.kolorProduktu,
        grafika: projekt.grafikaDataUrl,
        umiejscowienie: projekt.umiejscowienie
      }
    );

    alert('Projekt dodany do koszyka!');
  });
})();
</script>  
      id="zbiorka" class="py-16 bg-gradient-to-br from-yellow-50 to-yellow-100">
  <div class="max-w-5xl mx-auto px-6 relative bg-white p-8 rounded-3xl border-8 border-yellow-400 shadow-2xl
              ring-4 ring-yellow-300 ring-opacity-70 hover:ring-opacity-100 transition duration-500">
    
    <!-- Ramka dekoracyjna -->
    <div class="absolute inset-0 rounded-3xl border-4 border-double border-yellow-500 pointer-events-none z-10"></div>
    <div class="absolute -inset-3 rounded-4xl border-8 border-yellow-300 opacity-40 blur-lg pointer-events-none z-0"></div>

    <!-- Nag≈Ç√≥wek -->
    <h2 class="relative text-4xl font-extrabold text-gray-900 mb-4 text-center z-20">üì¶ Zbi√≥rka na Dom Dziecka</h2>
    <p class="relative text-lg text-gray-700 text-center mb-6 z-20">
      Pom√≥≈ºmy razem dzieciom, kt√≥re czekajƒÖ na odrobinƒô ciep≈Ça, rado≈õci i poczucia, ≈ºe sƒÖ wa≈ºne.  
      Twoja pomoc mo≈ºe odmieniƒá ich dzie≈Ñ, a nawet ca≈Çe ≈ºycie.
    </p>

    <!-- Dane kontaktowe -->
    <div class="relative bg-yellow-50 p-4 rounded-xl shadow-md mb-6 text-center border border-yellow-300 z-20">
      <p class="font-bold text-lg text-gray-800">üì± Przelew BLIK: <span class="text-yellow-700">573-939-925</span></p>
      <p class="text-gray-800">üìß E-mail: <a href="mailto:mielniczukgrzegosz74@gmail.com" class="text-blue-600 underline">mielniczukgrzegosz74@gmail.com</a></p>
      <p class="text-gray-800">üìû Kontakt: 604-296-360</p>
      <p class="text-sm italic text-gray-600">Po przelewie lub chƒôci wysy≈Çki dar√≥w ‚Äî skontaktuj siƒô z nami, podamy adres.</p>
    </div>

    <!-- Lista darczy≈Ñc√≥w -->
    <div class="relative mb-6 z-20">
      <h3 class="text-2xl font-bold text-gray-900 mb-3">‚ù§Ô∏è Ostatni darczy≈Ñcy</h3>
      <ul class="space-y-2 text-gray-700">
        <li>üéÅ <strong>Anna K.</strong> ‚Äî paczka z ksiƒÖ≈ºkami i pluszakami</li>
        <li>üéÅ <strong>Jan M.</strong> ‚Äî 10 ciep≈Çych kurtek zimowych</li>
        <li>üéÅ <strong>Magdalena S.</strong> ‚Äî karton s≈Çodyczy i gier planszowych</li>
        <li>üéÅ <strong>Piotr L.</strong> ‚Äî 5 plecak√≥w szkolnych</li>
      </ul>
    </div>

    <!-- Licznik do wysy≈Çki -->
    <div class="relative mb-8 text-center z-20">
      <h3 class="text-xl font-semibold text-gray-900 mb-2">‚è≥ Nastƒôpna wysy≈Çka paczek za:</h3>
      <p id="countdown" class="text-3xl font-bold text-yellow-700"></p>
    </div>

    <!-- List od dzieci -->
    <div class="relative bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg shadow-md mb-8 z-20">
      <p class="italic text-gray-800">
        ‚ÄûDziƒôkujemy z ca≈Çego serca za paczki, kt√≥re od Was dostajemy.  
        Ka≈ºdy koc, zabawka, ksiƒÖ≈ºka czy s≈Çodycz jest dla nas jak prezent od losu.  
        Kiedy widzimy, ≈ºe kto≈õ o nas pamiƒôta, czujemy siƒô potrzebni i kochani.  
        Mo≈ºe nie mo≈ºemy siƒô Wam odwdziƒôczyƒá tym samym, ale obiecujemy, ≈ºe dobro, kt√≥re nam dajecie, bƒôdziemy przekazywaƒá dalej w ≈ºyciu.  
        Dziƒôkujemy, ≈ºe jeste≈õcie naszymi Anio≈Çami.‚Äù
      </p>
      <p class="mt-3 text-right font-bold text-gray-900">‚Äî Dzieci z Domu Dziecka</p>
    </div>

    <!-- Twoje przes≈Çanie -->
    <p class="relative text-center text-gray-700 italic z-20">
      Jako by≈Çy wychowanek domu dziecka wiem, jak wiele znaczy taka pomoc.  
      Dlatego ka≈ºde wsparcie jest dla mnie osobistƒÖ misjƒÖ. ‚Äî <strong>Wojciech</strong>
    </p>

  </div>
</section>

<!-- Skrypt licznika -->
<script>
  function startCountdown() {
    const targetDate = new Date();
    targetDate.setDate(targetDate.getDate() + 7); // Za 7 dni
    function updateCountdown() {
      const now = new Date();
      const diff = targetDate - now;
      if (diff <= 0) {
        document.getElementById('countdown').innerText = "Dzi≈õ wysy≈Çamy paczki! ‚ù§Ô∏è";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      document.getElementById('countdown').innerText = `${days} dni, ${hours} godz., ${minutes} min.`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  }
  startCountdown();
</script>  

<section id="artysta" class="py-12 bg-gradient-to-br from-gray-50 to-gray-100">
  <div class="max-w-4xl mx-auto relative p-8 bg-white rounded-2xl border-8 border-yellow-500 shadow-lg">
    <h2 class="text-3xl font-extrabold text-gray-900 mb-4 text-center">Artysta</h2>
    <p class="mb-4 text-gray-800 leading-relaxed">
      Mam na imiƒô <strong>Wojciech</strong> i ca≈Çe ≈ºycie jestem zwiƒÖzany ze sztukƒÖ. Kocham jƒÖ od najm≈Çodszych lat, choƒá jestem samoukiem. Tworzƒô portrety realistyczne, pe≈Çne detali, malujƒô obrazy, wykonujƒô tatua≈ºe oraz zajmujƒô siƒô grafikƒÖ.
    </p>
    <p class="mb-4 text-gray-800 leading-relaxed">
      Dzielƒô siƒô sztukƒÖ z lud≈∫mi, bo widzƒô, jak ich serca roz≈õwietla moment, gdy otrzymujƒÖ portret, koszulkƒô czy cokolwiek z obrazem. Wtedy na ich twarzach pojawia siƒô u≈õmiech ‚Äî a to w≈Ça≈õnie sztuka daje rado≈õƒá.
    </p>
    <p class="mb-4 text-gray-800 leading-relaxed">
      Dla mnie najpiƒôkniejszƒÖ czƒô≈õciƒÖ pracy artysty jest to, ≈ºe mogƒô wywo≈Çaƒá ten u≈õmiech na czyjej≈õ twarzy.
    </p>
    <p class="text-gray-800 leading-relaxed italic text-center">
      Pozdrawiam serdecznie ‚Äî w swoim imieniu oraz ca≈Çego zespo≈Çu <strong>AdelbertusShop</strong>.
    </p>
  </div>
</section>  
          
      <section id="regulamin" class="py-16 px-6 bg-gradient-to-br from-[#faf5ee] to-[#fdf8f0] font-serif text-[#2e1e0f]">
  <div class="max-w-5xl mx-auto relative bg-white shadow-2xl rounded-3xl p-10 border-4 border-yellow-500">

    <!-- Zdobiona ramka -->
    <div class="absolute inset-0 rounded-3xl border-8 border-double border-yellow-400 pointer-events-none z-10"></div>
    <div class="absolute -inset-2 rounded-[2rem] border-4 border-yellow-300 blur-md opacity-50 z-0"></div>

    <!-- Etykieta -->
    <div class="absolute -top-5 left-1/2 transform -translate-x-1/2 bg-[#fdf8f0] px-6 py-1 text-[#caa25b] font-bold text-lg tracking-widest shadow-md rounded-md border border-[#caa25b] uppercase z-20">
      ‚úß REGULAMIN ‚úß
    </div>

    <!-- Nag≈Ç√≥wek -->
    <div class="relative z-20">
      <h2 class="text-4xl font-bold mb-12 text-center text-[#2e1e0f] underline decoration-[#caa25b]/50">Regulamin sklepu AdelbertusShop</h2>

      <div class="space-y-10 text-[17px] leading-relaxed">
        
        <!-- ¬ß1 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üìú</span> ¬ß1 Postanowienia og√≥lne
          </h3>
          <p>Sklep internetowy <strong>AdelbertusShop</strong> dzia≈Ça pod adresem [tu wstaw adres] i prowadzony jest przez osobƒô fizycznƒÖ wykonujƒÖcƒÖ dzia≈Çalno≈õƒá nierejestrowanƒÖ na podstawie art. 5 ust. 1 ustawy Prawo przedsiƒôbiorc√≥w.</p>
          <p>Kontakt: [adres e-mail], [numer telefonu ‚Äì opcjonalnie]</p>
          <p>Podstawy prawne: Kodeks cywilny, Ustawa o prawach konsumenta, Prawo przedsiƒôbiorc√≥w.</p>
        </div>

        <!-- ¬ß2 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üìñ</span> ¬ß2 Definicje
          </h3>
          <ul class="list-disc pl-6 space-y-1">
            <li><strong>Sprzedawca</strong> ‚Äì osoba fizyczna prowadzƒÖca dzia≈Çalno≈õƒá nierejestrowanƒÖ.</li>
            <li><strong>Klient</strong> ‚Äì osoba fizyczna dokonujƒÖca zakupu.</li>
            <li><strong>Konsument</strong> ‚Äì klient, kt√≥ry nie dzia≈Ça w ramach dzia≈Çalno≈õci gospodarczej.</li>
            <li><strong>Towar</strong> ‚Äì produkt oferowany w sklepie.</li>
            <li><strong>Umowa zawarta na odleg≈Ço≈õƒá</strong> ‚Äì umowa zawarta przez internet.</li>
          </ul>
        </div>

        <!-- ¬ß3 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üõí</span> ¬ß3 Warunki sprzeda≈ºy
          </h3>
          <p>Ceny towar√≥w podawane sƒÖ w z≈Çotych polskich i sƒÖ cenami brutto. Koszt dostawy jest wskazywany przy zam√≥wieniu. Zam√≥wienia sƒÖ przyjmowane poprzez stronƒô sklepu. Umowa zostaje zawarta z chwilƒÖ klikniƒôcia ‚ÄûZamawiam‚Äù.</p>
        </div>

        <!-- ¬ß4 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üí≥</span> ¬ß4 P≈Çatno≈õƒá i dostawa
          </h3>
          <ul class="list-disc pl-6 space-y-1">
            <li>P≈Çatno≈õƒá: przelew, BLIK, inne ‚Äì ustalane indywidualnie.</li>
            <li>Zam√≥wienia realizowane sƒÖ po zaksiƒôgowaniu wp≈Çaty.</li>
            <li>Dostawa na terenie Polski ‚Äì kurier, paczkomat.</li>
            <li>Czas realizacji: do 7 dni roboczych (chyba ≈ºe ustalono inaczej).</li>
          </ul>
        </div>

        <!-- ¬ß5 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>‚Ü©Ô∏è</span> ¬ß5 OdstƒÖpienie od umowy
          </h3>
          <ul class="list-disc pl-6 space-y-1">
            <li>Konsument ma prawo odstƒÖpiƒá od umowy w ciƒÖgu 14 dni.</li>
            <li>Zwrot koszt√≥w nastƒôpuje do 14 dni po zwrocie towaru.</li>
            <li>Produkty personalizowane nie podlegajƒÖ zwrotowi.</li>
          </ul>
        </div>

        <!-- ¬ß6 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üõ†Ô∏è</span> ¬ß6 Reklamacje
          </h3>
          <p>Reklamacje przyjmowane sƒÖ drogƒÖ mailowƒÖ. Klient powinien do≈ÇƒÖczyƒá opis problemu i zdjƒôcie. Sprzedawca odpowiada w ciƒÖgu 14 dni. W przypadku uznania reklamacji ‚Äì produkt jest wymieniany, naprawiany lub zwracane sƒÖ pieniƒÖdze.</p>
        </div>

        <!-- ¬ß7 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üîê</span> ¬ß7 Dane osobowe
          </h3>
          <p>Dane osobowe przetwarzane sƒÖ zgodnie z RODO wy≈ÇƒÖcznie w celu realizacji zam√≥wienia. Klient ma prawo wglƒÖdu, poprawienia lub usuniƒôcia swoich danych.</p>
        </div>

        <!-- ¬ß8 -->
        <div>
          <h3 class="font-semibold text-2xl mb-3 text-[#5c3d15] flex items-center gap-2">
            <span>üìå</span> ¬ß8 Postanowienia ko≈Ñcowe
          </h3>
          <p>Regulamin obowiƒÖzuje od momentu opublikowania na stronie. Sprzedawca zastrzega sobie prawo do zmian. W sprawach nieuregulowanych zastosowanie majƒÖ przepisy prawa polskiego.</p>
        </div>

      </div>
    </div>
  </div>
</section>    
</main> <!-- Je≈õli masz otwarte <main>, zamykamy je wcze≈õniej -->

<!-- üîª START: BODY I DOLNA SEKCJA Z BANEREM I PRZYCISKIEM POWROTU üîª -->
<body>
  <section class="bg-black text-white py-4 px-6 flex flex-col md:flex-row items-center justify-between gap-4 border-t border-gray-700">
    <div class="text-center md:text-left">
      <p class="text-lg font-semibold">üî• Zaprojektuj co≈õ swojego. Wyr√≥≈ºnij siƒô!</p>
      <p class="text-sm text-gray-300">Kliknij u g√≥ry w sekcjƒô ‚ÄûZaprojektuj‚Äù i stw√≥rz co≈õ niepowtarzalnego.</p>
    </div>
    <button onclick="scrollToTop()" class="bg-white text-black px-4 py-2 rounded-full hover:bg-gray-200 transition">
      ‚¨ÜÔ∏è Do g√≥ry
    </button>
  </section>

  <script>
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init('26es87U-rjUzsUtV7'); // Tw√≥j klucz EmailJS

// Wsp√≥lny koszyk dla ca≈Çej strony
window.__CART__ = window.__CART__ || [];

// ======================= FUNKCJE KOSZYKA =======================
function addToCart(name, price, imageUrl = null, payload = null){
  const sizeSelect = document.querySelector('#projektRozmiar') || document.querySelector('select'); // je≈õli produkt ze sklepu
  const size = sizeSelect?.value || 'M';
  window.__CART__.push({
    name, price, imageUrl, payload, qty:1,
    id: Date.now()+Math.random().toString(16).slice(2),
    size
  });
  updateCartUI();
  const notification = document.createElement('div');
  notification.className='fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg animate-bounce';
  notification.textContent='Dodano do koszyka!';
  document.body.appendChild(notification);
  setTimeout(()=>notification.remove(),3000);
}

function updateCartUI(){
  const lista=document.getElementById('listaKoszyka');
  const sumaEl=document.getElementById('sumaKoszyka');
  if(!lista){
    const cartContainer = document.createElement('div');
    cartContainer.id = 'koszykGlobalny';
    cartContainer.className = 'fixed top-16 right-4 bg-[#1a1a1a] p-4 rounded-lg w-72 shadow-lg z-50';
    cartContainer.innerHTML = `<h4 class="text-[#d4af37] font-bold mb-2">Koszyk</h4>
                               <ul id="listaKoszyka" class="list-none p-0 mb-2"></ul>
                               <div id="sumaKoszyka" class="font-bold text-lg">0 z≈Ç</div>
                               <button id="wyczyscKoszyk" class="w-full bg-[#d4af37] text-black py-2 rounded mt-2">Wyczy≈õƒá koszyk</button>`;
    document.body.appendChild(cartContainer);
    document.getElementById('wyczyscKoszyk').addEventListener('click',()=>{
      window.__CART__=[];
      updateCartUI();
    });
  }

  lista.innerHTML='';
  let suma=0;
  window.__CART__.forEach(item=>{
    const li=document.createElement('li');
    li.className='flex justify-between items-center py-2 border-b border-gray-700';
    li.innerHTML=`${item.imageUrl?`<img src="${item.imageUrl}" width="40">`:""} ${item.name} ${item.price.toFixed(2)} z≈Ç X ${item.qty} (${item.size})`;
    lista.appendChild(li);
    suma+=item.price*item.qty;
  });
  sumaEl.textContent=suma.toFixed(2)+' z≈Ç';
}

// ======================= CANVAS & DRAG&DROP =======================
(() => {
  const canvas=document.getElementById('podgladProdukt');
  const ctx=canvas.getContext('2d');

  const btnPrzod=document.getElementById('przodBtn');
  const btnTyl=document.getElementById('tylBtn');
  const inputTekst=document.getElementById('projektTekst');
  const selectCzcionka=document.getElementById('czcionka');
  const rangeRozmiar=document.getElementById('rozmiarTekstu');
  const inputKolorTekstu=document.getElementById('kolorTekstu');
  const inputKolorProduktu=document.getElementById('kolorProduktu');
  const fileGrafika=document.getElementById('projektGrafika');

  let currentView='front';
  let projektPrzod={tekst:'',czcionka:'Arial',rozmiar:36,kolorTekstu:'#000',kolorProduktu:'#fff',grafikaDataUrl:null,textX:250,textY:250};
  let projektTyl={...projektPrzod};
  let drag={active:false,offsetX:0,offsetY:0};

  function getActiveProject(){return currentView==='front'?projektPrzod:projektTyl;}
  function loadProjectToControls(){
    const p=getActiveProject();
    inputTekst.value=p.tekst;
    selectCzcionka.value=p.czcionka;
    rangeRozmiar.value=p.rozmiar;
    inputKolorTekstu.value=p.kolorTekstu;
    inputKolorProduktu.value=p.kolorProduktu;
  }
  function saveControlsToProject(){
    const p=getActiveProject();
    p.tekst=inputTekst.value;
    p.czcionka=selectCzcionka.value;
    p.rozmiar=parseInt(rangeRozmiar.value,10);
    p.kolorTekstu=inputKolorTekstu.value;
    p.kolorProduktu=inputKolorProduktu.value;
  }
  function switchView(view){currentView=view; loadProjectToControls(); rysujProdukt();}

  fileGrafika.addEventListener('change',e=>{
    const f=e.target.files[0]; if(!f) return;
    const reader=new FileReader();
    reader.onload=ev=>{getActiveProject().grafikaDataUrl=ev.target.result;rysujProdukt();}
    reader.readAsDataURL(f);
  });

  [inputTekst,selectCzcionka,rangeRozmiar,inputKolorTekstu,inputKolorProduktu].forEach(el=>el.addEventListener('input',()=>{saveControlsToProject();rysujProdukt();}));
  btnPrzod.addEventListener('click',()=>switchView('front'));
  btnTyl.addEventListener('click',()=>switchView('back'));

  canvas.addEventListener('mousedown',e=>{
    const p=getActiveProject(); const rect=canvas.getBoundingClientRect();
    const x=e.clientX-rect.left; const y=e.clientY-rect.top;
    if(p.tekst){drag.active=true;drag.offsetX=x-p.textX;drag.offsetY=y-p.textY;canvas.style.cursor='grabbing';}
  });
  canvas.addEventListener('mousemove',e=>{
    if(!drag.active) return; const p=getActiveProject();
    const rect=canvas.getBoundingClientRect();
    p.textX=e.clientX-rect.left-drag.offsetX; p.textY=e.clientY-rect.top-drag.offsetY;
    rysujProdukt();
  });
  canvas.addEventListener('mouseup',()=>{drag.active=false;canvas.style.cursor='';});
  canvas.addEventListener('mouseleave',()=>{drag.active=false;canvas.style.cursor='';});

  function rysujProdukt(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    const p=getActiveProject();
    ctx.fillStyle=p.kolorProduktu; ctx.strokeStyle='#333'; ctx.lineWidth=3;
    ctx.fillRect(110,70,280,360); ctx.strokeRect(110,70,280,360);
    if(p.grafikaDataUrl){const img=new Image(); img.onload=()=>{ctx.drawImage(img,150,150,200,200); drawTextOver(p);}; img.src=p.grafikaDataUrl;} else drawTextOver(p);
  }
  function drawTextOver(p){if(!p.tekst) return; ctx.font=`${p.rozmiar}px ${p.czcionka}`; ctx.fillStyle=p.kolorTekstu; ctx.textAlign='center'; ctx.textBaseline='middle'; ctx.fillText(p.tekst,p.textX,p.textY);}
  loadProjectToControls(); rysujProdukt();
})();

// Dodawanie zaprojektowanego produktu do wsp√≥lnego koszyka
document.getElementById('dodajDoKoszyka').addEventListener('click',()=>{
  const name=document.getElementById('projektTekst').value||'Produkt';
  addToCart(name,49.99);
});

// Aktualizacja koszyka po za≈Çadowaniu strony (je≈õli ju≈º sƒÖ produkty)
updateCartUI();
</script></body>
</html>
<!-- üî∫ KONIEC KODU üî∫ -->



























































































































